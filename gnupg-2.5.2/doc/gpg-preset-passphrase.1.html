<!-- Created from Texinfo source by yat2m 1.51 -->
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
 <title>GPG-PRESET-PASSPHRASE(1)</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="/share/site.css" type="text/css" />
</head>
<body>
<div id="wrapper">
<div id="content">
<div class="y2m">
<p class="y2m y2m-top"><span class="y2m-left">GPG-PRESET-PASSPHRASE(1)</span> <span class="y2m-center">GNU Privacy Guard 2.6</span> <span class="y2m-right">GPG-PRESET-PASSPHRASE(1)</span></p>
<div class="y2m-section">
<h2 class="y2m-sh">NAME</h2>
@para{}<strong>gpg-preset-passphrase</strong>
 &mdash; Put a passphrase into gpg-agent's cache
</div>
<div class="y2m-section">
<h2 class="y2m-sh">SYNOPSIS</h2>
@para{}<strong> gpg-preset-passphrase</strong>
<span>[</span>  <em>options</em>  <span>]</span>
<span>[</span>  <em>command</em>  <span>]</span>
<em>cache-id</em>

<p>
</div>
<div class="y2m-section">
<h2 class="y2m-sh">DESCRIPTION</h2>

<p>The <i>gpg-preset-passphrase</i> is a utility to seed the internal
cache of a running <i>gpg-agent</i> with passphrases.  It is mainly
useful for unattended machines, where the usual <i>pinentry</i> tool
may not be used and the passphrases for the to be used keys are given at
machine startup.
</p>

<p>
This program works with GnuPG 2 and later.  GnuPG 1.x is not supported.
</p>

<p>
Passphrases set with this utility don't expire unless the
<samp>--forget</samp> option is used to explicitly clear them from the
cache &mdash; or <i>gpg-agent</i> is either restarted or reloaded (by
sending a SIGHUP to it).  Note that the maximum cache time as set with
<samp>--max-cache-ttl</samp> is still honored.  It is necessary to allow
this passphrase presetting by starting <i>gpg-agent</i> with the
<samp>--allow-preset-passphrase</samp>.
</p>

<p>
</p>

<p>
</p>

<p>

<i>gpg-preset-passphrase</i> is invoked this way:
</p>

<p>

<pre>
gpg-preset-passphrase [options] [command] <u>cacheid</u>
</pre>
</p>

<p>
<u>cacheid</u> is either a 40 character keygrip of hexadecimal
characters identifying the key for which the passphrase should be set
or cleared.  The keygrip is listed along with the key when running the
command: <samp>gpgsm --with-keygrip --list-secret-keys</samp>.
Alternatively an arbitrary string may be used to identify a
passphrase; it is suggested that such a string is prefixed with the
name of the application (e.g <samp>foo:12346</samp>).  Scripts should always
use the option <samp>--with-colons</samp>, which provides the keygrip in a
"grp" line (cf. doc/DETAILS)/
</p>

<p>

One of the following command options must be given:
</p>

<p>
<ul>
<li><span class="y2m-item">--preset</span>
Preset a passphrase. This is what you usually will
use. <i>gpg-preset-passphrase</i> will then read the passphrase from
<samp>stdin</samp>.

</li>
<li><span class="y2m-item">--forget</span>
Flush the passphrase for the given cache ID from the cache.

</li>
</ul>
</p>

<p>

The following additional options may be used:
</p>

<p>
<ul>
<li><span class="y2m-item">-v</span>
    <span class="y2m-item">--verbose</span>
Output additional information while running.

</li>
<li><span class="y2m-item">-P <span class="y2m-args"><u>string</u></span></span>
    <span class="y2m-item">--passphrase <span class="y2m-args"><u>string</u></span></span>
Instead of reading the passphrase from <samp>stdin</samp>, use the supplied
<u>string</u> as passphrase.  Note that this makes the passphrase visible
for other users.
</li>
</ul>
</p>

<p>
</div>
<div class="y2m-section">
<h2 class="y2m-sh">SEE ALSO</h2>

<p><i><a href="gpg.1.html">gpg</a>(1)</i>,
<i><a href="gpgsm.1.html">gpgsm</a>(1)</i>,
<i><a href="gpg-agent.1.html">gpg-agent</a>(1)</i>,
<i><a href="scdaemon.1.html">scdaemon</a>(1)</i>
</p>

<p>
The full documentation for this tool is maintained as a Texinfo manual.
If GnuPG and the info program are properly installed at your site, the
command
</p>

<p>

<pre>
info gnupg
</pre>
</p>

<p>
should give you access to the complete manual including a menu structure
and an index.
</p>

<p>
</p>

<p>
</p>

<p>
</p>

<p>

</div>
<p class="y2m y2m-footer"><span class="y2m-left">GnuPG 2.5.2</span> <span class="y2m-center">2024-11-22</span> <span class="y2m-right">GPG-PRESET-PASSPHRASE(1)</span></p>
</div><!-- class y2m -->
</div><!-- end content -->
</div><!-- end wrapper -->
</body>
</html>
