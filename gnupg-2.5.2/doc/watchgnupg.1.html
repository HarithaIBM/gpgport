<!-- Created from Texinfo source by yat2m 1.51 -->
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
 <title>WATCHGNUPG(1)</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="/share/site.css" type="text/css" />
</head>
<body>
<div id="wrapper">
<div id="content">
<div class="y2m">
<p class="y2m y2m-top"><span class="y2m-left">WATCHGNUPG(1)</span> <span class="y2m-center">GNU Privacy Guard 2.6</span> <span class="y2m-right">WATCHGNUPG(1)</span></p>
<div class="y2m-section">
<h2 class="y2m-sh">NAME</h2>
@para{}<strong>watchgnupg</strong>
 &mdash; Read and print logs from a socket
</div>
<div class="y2m-section">
<h2 class="y2m-sh">SYNOPSIS</h2>
@para{}<strong> watchgnupg</strong>
<span>[</span>  <strong>--force</strong>  <span>]</span>
<span>[</span>  <strong>--verbose</strong>  <span>]</span>
<em>socketname</em>

<p>
</div>
<div class="y2m-section">
<h2 class="y2m-sh">DESCRIPTION</h2>

<p>Most of the main utilities are able to write their log files to a Unix
Domain socket if configured that way.  <i>watchgnupg</i> is a simple
listener for such a socket.  It ameliorates the output with a time stamp
and makes sure that long lines are not interspersed with log output from
other utilities.  This tool is not available for Windows.
</p>

<p>

<i>watchgnupg</i> is commonly invoked as
</p>

<p>

<pre>
watchgnupg
</pre>
</p>

<p>
which is a shorthand for
</p>

<p>

<pre>
watchgnupg --force $(gpgconf --list-dirs socketdir)/S.log
</pre>
</p>

<p>
To watch GnuPG running with a different home directory, use
</p>

<p>

<pre>
watchgnupg --homedir DIR

</div>
<div class="y2m-section">
<h2 class="y2m-sh">OPTIONS</h2>

<p>
<i>watchgnupg</i> understands these options:
</p>

<p>
<ul>

<li><span class="y2m-item">--force</span>
Delete an already existing socket file.  This option is implicitly used
if no socket name has been given on the command line.

</li>
<li><span class="y2m-item">--homedir <span class="y2m-args"><u>DIR</u></span></span>
If no socket name is given on the command line, pass <u>DIR</u> to
gpgconf so that the socket for a GnuPG running with DIR has its home
directory is used.  Note that the environment variable <u>GNUPGHOME</u>
is ignored by watchgnupg.


</li>
<li><span class="y2m-item">--tcp <span class="y2m-args"><u>n</u></span></span>
Instead of reading from a local socket, listen for connects on TCP
port <u>n</u>.  A Unix domain socket can optionally also be given as a
second source.  This option does not use a default socket name.

</li>
<li><span class="y2m-item">--time-only</span>
Do not print the date part of the timestamp.

</li>
<li><span class="y2m-item">--verbose</span>
Enable extra informational output.

</li>
<li><span class="y2m-item">--version</span>
Print version of the program and exit.

</li>
<li><span class="y2m-item">--help</span>
Display a brief help page and exit.

</li>
</ul>
</p>

<p>

</div>
<div class="y2m-section">
<h2 class="y2m-sh">EXAMPLES</h2>

<p></p>

<p>

<pre>
$ watchgnupg --time-only
</pre>
</p>

<p>
This waits for connections on the local socket
(e.g., /var/run/user/1234/gnupg/S.log) and shows all log
entries.  To make this work the option <samp>log-file</samp> needs to be
used with all modules which logs are to be shown.  The suggested entry
for the configuration files is:
</p>

<p>

<pre>
log-file socket://
</pre>
</p>

<p>
If the default socket as given above and returned by <samp>"echo $(gpgconf
--list-dirs socketdir)/S.log"</samp> is not desired an arbitrary socket name
can be specified, for example socket:///home/foo/bar/mysocket.
For debugging purposes it is also possible to do remote logging.  Take
care if you use this feature because the information is send in the
clear over the network.  Use this syntax in the conf files:
</p>

<p>

<pre>
log-file tcp://192.168.1.1:4711
</pre>
</p>

<p>
You may use any port and not just 4711 as shown above; only IP
addresses are supported (v4 and v6) and no host names.  You need to
start <i>watchgnupg</i> with the <samp>tcp</samp> option.  Note that
under Windows the registry entry
<u>HKCU&bsol;Software&bsol;GNU&bsol;GnuPG:DefaultLogFile</u> can be used to change the
default log output from <samp>stderr</samp> to whatever is given by that
entry.  However the only useful entry is a TCP name for remote
debugging.
</p>

<p>
</p>

<p>
</div>
<div class="y2m-section">
<h2 class="y2m-sh">SEE ALSO</h2>

<p><i><a href="gpg.1.html">gpg</a>(1)</i>,
<i><a href="gpgsm.1.html">gpgsm</a>(1)</i>,
<i><a href="gpg-agent.1.html">gpg-agent</a>(1)</i>,
<i><a href="scdaemon.1.html">scdaemon</a>(1)</i>
</p>

<p>
The full documentation for this tool is maintained as a Texinfo manual.
If GnuPG and the info program are properly installed at your site, the
command
</p>

<p>

<pre>
info gnupg
</pre>
</p>

<p>
should give you access to the complete manual including a menu structure
and an index.
</p>

<p>
</p>

<p>
</p>

<p>
</p>

<p>
</p>

<p>
</p>

<p>
</p>

<p>
</div>
<p class="y2m y2m-footer"><span class="y2m-left">GnuPG 2.5.2</span> <span class="y2m-center">2024-11-22</span> <span class="y2m-right">WATCHGNUPG(1)</span></p>
</div><!-- class y2m -->
</div><!-- end content -->
</div><!-- end wrapper -->
</body>
</html>
