<!-- Created from Texinfo source by yat2m 1.51 -->
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
         "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
 <title>GPG(1)</title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="/share/site.css" type="text/css" />
</head>
<body>
<div id="wrapper">
<div id="content">
<div class="y2m">
<p class="y2m y2m-top"><span class="y2m-left">GPG(1)</span> <span class="y2m-center">GNU Privacy Guard 2.6</span> <span class="y2m-right">GPG(1)</span></p>
<div class="y2m-section">
<h2 class="y2m-sh">NAME</h2>
@para{}<strong>gpg</strong>
 &mdash; OpenPGP encryption and signing tool
</div>
<div class="y2m-section">
<h2 class="y2m-sh">SYNOPSIS</h2>
@para{}<strong> gpg</strong>
<span>[</span>  <strong>--homedir</strong>
<em>dir</em>  <span>]</span>
<span>[</span>  <strong>--options</strong>
<em>file</em>  <span>]</span>
<span>[</span>  <em>options</em>  <span>]</span>
<em>command</em>
<span>[</span>  <em>args</em>  <span>]</span>

<p>
</p>

<p>
</div>
<div class="y2m-section">
<h2 class="y2m-sh">DESCRIPTION</h2>

<p><i>gpg</i> is the OpenPGP part of the GNU Privacy Guard (GnuPG). It
is a tool to provide digital encryption and signing services using the
OpenPGP standard. <i>gpg</i> features complete key management and
all the bells and whistles you would expect from a full OpenPGP
implementation.
</p>

<p>
There are two main versions of GnuPG: GnuPG 1.x and GnuPG 2.x.  GnuPG
2.x supports modern encryption algorithms and thus should be preferred
over GnuPG 1.x.  You only need to use GnuPG 1.x if your platform
doesn't support GnuPG 2.x, or you need support for some features that
GnuPG 2.x has deprecated for security reasons, e.g., decrypting data
created with PGP-2 keys.
</p>

<p>
If you are looking for version 1 of GnuPG, you may find that version
installed under the name <i>gpg1</i>.
</p>

<p>
</p>

<p>
</p>

<p>
</p>

<p>
</p>

<p>

</div>
<div class="y2m-section">
<h2 class="y2m-sh">RETURN VALUE</h2>

<p></p>

<p>
The program returns 0 if there are no severe errors, 1 if at least a
signature was bad, and other error codes for fatal errors.
</p>

<p>
Note that signature verification requires exact knowledge of what has
been signed and by whom it has been signed.  Using only the return code
is thus not an appropriate way to verify a signature by a script.
Either make proper use or the status codes or use the <i>gpgv</i>
tool which has been designed to make signature verification easy for
scripts.
</p>

<p>
</div>
<div class="y2m-section">
<h2 class="y2m-sh">WARNINGS</h2>

<p></p>

<p>
Use a good password for your user account and make sure that all
security issues are always fixed on your machine.  Also employ
diligent physical protection to your machine.  Consider to use a good
passphrase as a last resort protection to your secret key in the case
your machine gets stolen.  It is important that your secret key is
never leaked.  Using an easy to carry around token or smartcard with
the secret key is often a advisable.
</p>

<p>
If you are going to verify detached signatures, make sure that the
program knows about it; either give both filenames on the command line
or use - to specify STDIN.
</p>

<p>
For scripted or other unattended use of <i>gpg</i> make sure to use
the machine-parseable interface and not the default interface which is
intended for direct use by humans.  The machine-parseable interface
provides a stable and well documented API independent of the locale or
future changes of <i>gpg</i>.  To enable this interface use the
options <samp>--with-colons</samp> and <samp>--status-fd</samp>.  For certain
operations the option <samp>--command-fd</samp> may come handy too.  See
this man page and the file DETAILS for the specification of the
interface.  Note that the GnuPG ``info'' pages as well as the PDF
version of the GnuPG manual features a chapter on unattended use of
GnuPG.  As an alternative the library <i>GPGME</i> can be used as a
high-level abstraction on top of that interface.
</p>

<p>
</div>
<div class="y2m-section">
<h2 class="y2m-sh">INTEROPERABILITY</h2>

<p></p>

<p>
GnuPG tries to be a very flexible implementation of the OpenPGP
standard. In particular, GnuPG implements many of the optional parts
of the standard, such as the SHA-512 hash, and the ZLIB and BZIP2
compression algorithms. It is important to be aware that not all
OpenPGP programs implement these optional algorithms and that by
forcing their use via the <samp>--cipher-algo</samp>,
<samp>--digest-algo</samp>, <samp>--cert-digest-algo</samp>, or
<samp>--compress-algo</samp> options in GnuPG, it is possible to create a
perfectly valid OpenPGP message, but one that cannot be read by the
intended recipient.
</p>

<p>
There are dozens of variations of OpenPGP programs available, and each
supports a slightly different subset of these optional algorithms.
For example, until recently, no (unhacked) version of PGP supported
the BLOWFISH cipher algorithm. A message using BLOWFISH simply could
not be read by a PGP user. By default, GnuPG uses the standard
OpenPGP preferences system that will always do the right thing and
create messages that are usable by all recipients, regardless of which
OpenPGP program they use. Only override this safe default if you
really know what you are doing.
</p>

<p>
If you absolutely must override the safe default, or if the preferences
on a given key are invalid for some reason, you are far better off using
the <samp>--pgp6</samp>, <samp>--pgp7</samp>, or <samp>--pgp8</samp> options. These
options are safe as they do not force any particular algorithms in
violation of OpenPGP, but rather reduce the available algorithms to a
"PGP-safe" list.
</p>

<p>
</div>
<div class="y2m-section">
<h2 class="y2m-sh">COMMANDS</h2>

<p></p>

<p>
Commands are not distinguished from options except for the fact that
only one command is allowed.  Generally speaking, irrelevant options
are silently ignored, and may not be checked for correctness.
</p>

<p>
<i>gpg</i> may be run with no commands. In this case it will
print a warning perform a reasonable action depending on the type of
file it is given as input (an encrypted message is decrypted, a
signature is verified, a file containing keys is listed, etc.).
</p>

<p>
If you run into any problems, please add the option <samp>--verbose</samp>
to the invocation to see more diagnostics.
</p>

<p>
</p>

<p>
</p>

<p>
</p>

<p>
<h3> Commands not specific to the function</h3>
</p>

<p>
<ul>
<li><span class="y2m-item">--version</span>
Print the program version and licensing information.  Note that you
cannot abbreviate this command.

</li>
<li><span class="y2m-item">--help</span>
    <span class="y2m-item">-h</span>
Print a usage message summarizing the most useful command-line options.
Note that you cannot arbitrarily abbreviate this command
(though you can use its short form <samp>-h</samp>).

</li>
<li><span class="y2m-item">--warranty</span>
Print warranty information.

</li>
<li><span class="y2m-item">--dump-options</span>
Print a list of all available options and commands.  Note that you cannot
abbreviate this command.
</li>
</ul>
</p>

<p>
</p>

<p>
<h3> Commands to select the type of operation</h3>
</p>

<p>
</p>

<p>
<ul>

<li><span class="y2m-item">--sign</span>
    <span class="y2m-item">-s</span>
Sign a message. This command may be combined with <samp>--encrypt</samp>
(to sign and encrypt a message), <samp>--symmetric</samp> (to sign and
symmetrically encrypt a message), or both <samp>--encrypt</samp> and
<samp>--symmetric</samp> (to sign and encrypt a message that can be
decrypted using a secret key or a passphrase).  The signing key is
chosen by default or can be set explicitly using the
<samp>--local-user</samp> and <samp>--default-key</samp> options.

</li>
<li><span class="y2m-item">--clear-sign</span>
    <span class="y2m-item">--clearsign</span>
Make a cleartext signature.  The content in a cleartext signature is
readable without any special software. OpenPGP software is only needed
to verify the signature.  cleartext signatures may modify end-of-line
whitespace for platform independence and are not intended to be
reversible.  The signing key is chosen by default or can be set
explicitly using the <samp>--local-user</samp> and <samp>--default-key</samp>
options.


</li>
<li><span class="y2m-item">--detach-sign</span>
    <span class="y2m-item">-b</span>
Make a detached signature.

</li>
<li><span class="y2m-item">--encrypt</span>
    <span class="y2m-item">-e</span>
Encrypt data to one or more public keys. This command may be combined
with <samp>--sign</samp> (to sign and encrypt a message),
<samp>--symmetric</samp> (to encrypt a message that can be decrypted using a
secret key or a passphrase), or <samp>--sign</samp> and
<samp>--symmetric</samp> together (for a signed message that can be
decrypted using a secret key or a passphrase).  <samp>--recipient</samp>
and related options specify which public keys to use for encryption.

</li>
<li><span class="y2m-item">--symmetric</span>
    <span class="y2m-item">-c</span>
Encrypt with a symmetric cipher using a passphrase. The default
symmetric cipher used is AES-128, but may be chosen with the
<samp>--cipher-algo</samp> option. This command may be combined with
<samp>--sign</samp> (for a signed and symmetrically encrypted message),
<samp>--encrypt</samp> (for a message that may be decrypted via a secret key
or a passphrase), or <samp>--sign</samp> and <samp>--encrypt</samp> together
(for a signed message that may be decrypted via a secret key or a
passphrase).  <i>gpg</i> caches the passphrase used for
symmetric encryption so that a decrypt operation may not require that
the user needs to enter the passphrase.  The option
<samp>--no-symkey-cache</samp> can be used to disable this feature.

</li>
<li><span class="y2m-item">--store</span>
Store only (make a simple literal data packet).

</li>
<li><span class="y2m-item">--decrypt</span>
    <span class="y2m-item">-d</span>
Decrypt the file given on the command line (or STDIN if no file
is specified) and write it to STDOUT (or the file specified with
<samp>--output</samp>). If the decrypted file is signed, the signature is also
verified. This command differs from the default operation, as it never
writes to the filename which is included in the file and it rejects
files that don't begin with an encrypted message.

</li>
<li><span class="y2m-item">--verify</span>
Assume that the first argument is a signed file and verify it without
generating any output.  With no arguments, the signature packet is
read from STDIN.  If only one argument is given, the specified file is
expected to include a complete signature.

With more than one argument, the first argument should specify a file
with a detached signature and the remaining files should contain the
signed data. To read the signed data from STDIN, use - as the
second filename.  For security reasons, a detached signature will not
read the signed material from STDIN if not explicitly specified.

Note: If the option <samp>--batch</samp> is not used, <i>gpg</i>
may assume that a single argument is a file with a detached signature,
and it will try to find a matching data file by stripping certain
suffixes.  Using this historical feature to verify a detached
signature is strongly discouraged; you should always specify the data file
explicitly.

Note: When verifying a cleartext signature, <i>gpg</i> verifies
only what makes up the cleartext signed data and not any extra data
outside of the cleartext signature or the header lines directly following
the dash marker line.  The option <samp>--output</samp> may be used to write
out the actual signed data, but there are other pitfalls with this
format as well.  It is suggested to avoid cleartext signatures in
favor of detached signatures.

Note: With option <samp>--batch</samp> he verification of signatures stops
at the first bad signature.  This is a safe default for unattended
processing but sometimes a status for all signatures is needed.  To
override this early bailout use the option <samp>--proc-all-sigs</samp>.

Note: To check whether a file was signed by a certain key the option
<samp>--assert-signer</samp> can be used.  As an alternative the
<i>gpgv</i> tool can be used.  <i>gpgv</i> is designed to
compare signed data against a list of trusted keys and returns with
success only for a good signature.  It has its own manual page.


</li>
<li><span class="y2m-item">--multifile</span>
This modifies certain other commands to accept multiple files for
processing on the command line or read from STDIN with each filename on
a separate line. This allows for many files to be processed at
once. <samp>--multifile</samp> may currently be used along with
<samp>--verify</samp>, <samp>--encrypt</samp>, and <samp>--decrypt</samp>. Note that
<samp>--multifile --verify</samp> may not be used with detached signatures.

</li>
<li><span class="y2m-item">--verify-files</span>
Identical to <samp>--multifile --verify</samp>.

</li>
<li><span class="y2m-item">--encrypt-files</span>
Identical to <samp>--multifile --encrypt</samp>.

</li>
<li><span class="y2m-item">--decrypt-files</span>
Identical to <samp>--multifile --decrypt</samp>.

</li>
<li><span class="y2m-item">--list-keys</span>
    <span class="y2m-item">-k</span>
    <span class="y2m-item">--list-public-keys</span>
List the specified keys.  If no keys are specified, then all keys from
the configured public keyrings are listed.

Never use the output of this command in scripts or other programs.
The output is intended only for humans and its format is likely to
change.  The <samp>--with-colons</samp> option emits the output in a
stable, machine-parseable format, which is intended for use by scripts
and other programs.

</li>
<li><span class="y2m-item">--list-secret-keys</span>
    <span class="y2m-item">-K</span>
List the specified secret keys.  If no keys are specified, then all
known secret keys are listed.  A <samp>#</samp> after the initial tags
<samp>sec</samp> or <samp>ssb</samp> means that the secret key or subkey is
currently not usable.  We also say that this key has been taken
offline (for example, a primary key can be taken offline by exporting
the key using the command <samp>--export-secret-subkeys</samp>).  A
<samp>&gt;</samp> after these tags indicate that the key is stored on a
smartcard.  See also <samp>--list-keys</samp>.

</li>
<li><span class="y2m-item">--check-signatures</span>
    <span class="y2m-item">--check-sigs</span>
Same as <samp>--list-keys</samp>, but the key signatures are verified and
listed too.  Note that for performance reasons the revocation status
of a signing key is not shown.  This command has the same effect as
using <samp>--list-keys</samp> with <samp>--with-sig-check</samp>.

The status of the verification is indicated by a flag directly
following the "sig" tag (and thus before the flags described below.  A
"!" indicates that the signature has been successfully verified, a "-"
denotes a bad signature and a "%" is used if an error occurred while
checking the signature (e.g., a non supported algorithm).  Signatures
where the public key is not available are not listed; to see their
keyids the command <samp>--list-sigs</samp> can be used.

For each signature listed, there are several flags in between the
signature status flag and keyid.  These flags give additional
information about each key signature.  From left to right, they are
the numbers 1--3 for certificate check level (see
<samp>--ask-cert-level</samp>), "L" for a local or non-exportable
signature (see <samp>--lsign-key</samp>), "R" for a nonRevocable signature
(see the <samp>--edit-key</samp> command "nrsign"), "P" for a signature
that contains a policy URL (see <samp>--cert-policy-url</samp>), "N" for a
signature that contains a notation (see <samp>--cert-notation</samp>), "X"
for an eXpired signature (see <samp>--ask-cert-expire</samp>), and the
numbers 1--9 or "T" for 10 and above to indicate trust signature levels
(see the <samp>--edit-key</samp> command "tsign").


</li>
<li><span class="y2m-item">--locate-keys</span>
    <span class="y2m-item">--locate-external-keys</span>
Locate the keys given as arguments.  This command basically uses the
same algorithm as used when locating keys for encryption and may thus
be used to see what keys <i>gpg</i> might use.  In particular
external methods as defined by <samp>--auto-key-locate</samp> are used to
locate a key if the arguments comain valid mail addresses.  Only
public keys are listed.

The variant <samp>--locate-external-keys</samp> does not consider a
locally existing key and can thus be used to force the refresh of a
key via the defined external methods.  If a fingerprint is given and
and the methods defined by <samp>--auto-key-locate</samp> define LDAP
servers, the key is fetched from these resources; defined non-LDAP
keyservers are skipped.


</li>
<li><span class="y2m-item">--show-keys</span>
This commands takes OpenPGP keys as input and prints information about
them in the same way the command <samp>--list-keys</samp> does for locally
stored key.  In addition the list options <samp>show-unusable-uids</samp>,
<samp>show-unusable-subkeys</samp>, <samp>show-notations</samp> and
<samp>show-policy-urls</samp> are also enabled.  As usual for automated
processing, this command should be combined with the option
<samp>--with-colons</samp>.

</li>
<li><span class="y2m-item">--fingerprint</span>
List all keys (or the specified ones) along with their
fingerprints. This is the same output as <samp>--list-keys</samp> but with
the additional output of a line with the fingerprint. May also be
combined with <samp>--check-signatures</samp>.  If this
command is given twice, the fingerprints of all secondary keys are
listed too.  This command also forces pretty printing of fingerprints
if the keyid format has been set to "none".

</li>
<li><span class="y2m-item">--list-packets</span>
List only the sequence of packets.  This command is only useful for
debugging.  When used with option <samp>--verbose</samp> the actual MPI
values are dumped and not only their lengths.  Note that the output of
this command may change with new releases.


</li>
<li><span class="y2m-item">--edit-card</span>
    <span class="y2m-item">--card-edit</span>
Present a menu to work with a smartcard. The subcommand "help"
provides an overview on available commands. For a detailed
description, please see the Card HOWTO at
https://gnupg.org/documentation/howtos.html#GnuPG-cardHOWTO .  Please
note that the command "openpgp" can be used to switch to the OpenPGP
application of cards which by default are presenting another
application (e.g., PIV).

</li>
<li><span class="y2m-item">--card-status</span>
Show the content of the smart card.

</li>
<li><span class="y2m-item">--change-pin</span>
Present a menu to allow changing the PIN of a smartcard. This
functionality is also available as the subcommand "passwd" with the
<samp>--edit-card</samp> command.

</li>
<li><span class="y2m-item">--delete-keys <span class="y2m-args"><u>name</u></span></span>
Remove key from the public keyring. In batch mode either <samp>--yes</samp> is
required or the key must be specified by fingerprint. This is a
safeguard against accidental deletion of multiple keys.  If the
exclamation mark syntax is used with the fingerprint of a subkey only
that subkey is deleted; if the exclamation mark is used with the
fingerprint of the primary key the entire public key is deleted.

</li>
<li><span class="y2m-item">--delete-secret-keys <span class="y2m-args"><u>name</u></span></span>
Remove key from the secret keyring. In batch mode the key must be
specified by fingerprint.  The option <samp>--yes</samp> can be used to
advise gpg-agent not to request a confirmation.  This extra
pre-caution is done because <i>gpg</i> can't be sure that the
secret key (as controlled by gpg-agent) is only used for the given
OpenPGP public key.  If the exclamation mark syntax is used with the
fingerprint of a subkey only the secret part of that subkey is
deleted; if the exclamation mark is used with the fingerprint of the
primary key only the secret part of the primary key is deleted.


</li>
<li><span class="y2m-item">--delete-secret-and-public-key <span class="y2m-args"><u>name</u></span></span>
Same as <samp>--delete-key</samp>, but if a secret key exists, it will be
removed first. In batch mode the key must be specified by fingerprint.
The option <samp>--yes</samp> can be used to advise gpg-agent not to
request a confirmation.

</li>
<li><span class="y2m-item">--export</span>
Either export all keys from all keyrings (default keyring and those
registered via option <samp>--keyring</samp>), or if at least one name is given,
those of the given name. The exported keys are written to STDOUT or to the
file given with option <samp>--output</samp>.  Use together with
<samp>--armor</samp> to mail those keys.

</li>
<li><span class="y2m-item">--send-keys <span class="y2m-args"><u>keyIDs</u></span></span>
Similar to <samp>--export</samp> but sends the keys to a keyserver.
Fingerprints may be used instead of key IDs.
Don't send your complete keyring to a keyserver --- select
only those keys which are new or changed by you.  If no <u>keyIDs</u>
are given, <i>gpg</i> does nothing.

Take care: Keyservers are by design write only systems and thus it is
not possible to ever delete keys once they have been send to a
keyserver.


</li>
<li><span class="y2m-item">--export-secret-keys</span>
    <span class="y2m-item">--export-secret-subkeys</span>
Same as <samp>--export</samp>, but exports the secret keys instead.  The
exported keys are written to STDOUT or to the file given with option
<samp>--output</samp>.  This command is often used along with the option
<samp>--armor</samp> to allow for easy printing of the key for paper backup;
however the external tool <i>paperkey</i> does a better job of
creating backups on paper.  Note that exporting a secret key can be a
security risk if the exported keys are sent over an insecure channel.

The second form of the command has the special property to render the
secret part of the primary key useless; this is a GNU extension to
OpenPGP and other implementations can not be expected to successfully
import such a key.  Its intended use is in generating a full key with
an additional signing subkey on a dedicated machine.  This command
then exports the key without the primary key to the main machine.

GnuPG may ask you to enter the passphrase for the key.  This is
required, because the internal protection method of the secret key is
different from the one specified by the OpenPGP protocol.

</li>
<li><span class="y2m-item">--export-ssh-key</span>
This command is used to export a key in the OpenSSH public key format.
It requires the specification of one key by the usual means and
exports the latest valid subkey which has an authentication capability
to STDOUT or to the file given with option <samp>--output</samp>.  That
output can directly be added to ssh's authorized_key file.

By specifying the key to export using a key ID or a fingerprint
suffixed with an exclamation mark (!), a specific subkey or the
primary key can be exported.  This does not even require that the key
has the authentication capability flag set.

</li>
<li><span class="y2m-item">--import</span>
    <span class="y2m-item">--fast-import</span>
Import/merge keys. This adds the given keys to the
keyring. The fast version is currently just a synonym.

There are a few other options which control how this command works.
Most notable here is the <samp>--import-options merge-only</samp> option
which does not insert new keys but does only the merging of new
signatures, user-IDs and subkeys.

</li>
<li><span class="y2m-item">--receive-keys <span class="y2m-args"><u>keyIDs</u></span></span>
    <span class="y2m-item">--recv-keys <span class="y2m-args"><u>keyIDs</u></span></span>
Import the keys with the given <u>keyIDs</u> from a keyserver.

</li>
<li><span class="y2m-item">--refresh-keys</span>
Request updates from a keyserver for keys that already exist on the
local keyring. This is useful for updating a key with the latest
signatures, user IDs, etc. Calling this with no arguments will refresh
the entire keyring.

</li>
<li><span class="y2m-item">--search-keys <span class="y2m-args"><u>names</u></span></span>
Search the keyserver for the given <u>names</u>. Multiple names given
here will be joined together to create the search string for the
keyserver.  Note that keyservers search for <u>names</u> in a different
and simpler way than gpg does.  The best choice is to use a mail
address.  Due to data privacy reasons keyservers may even not even
allow searching by user id or mail address and thus may only return
results when being used with the <samp>--recv-key</samp> command to
search by key fingerprint or keyid.

</li>
<li><span class="y2m-item">--fetch-keys <span class="y2m-args"><u>URIs</u></span></span>
Retrieve keys located at the specified <u>URIs</u>. Note that different
installations of GnuPG may support different protocols (HTTP, FTP,
LDAP, etc.).  When using HTTPS the system provided root certificates
are used by this command.

</li>
<li><span class="y2m-item">--update-trustdb</span>
Do trust database maintenance. This command iterates over all keys and
builds the Web of Trust. This is an interactive command because it may
have to ask for the "ownertrust" values for keys. The user has to give
an estimation of how far she trusts the owner of the displayed key to
correctly certify (sign) other keys. GnuPG only asks for the ownertrust
value if it has not yet been assigned to a key. Using the
<samp>--edit-key</samp> menu, the assigned value can be changed at any time.

</li>
<li><span class="y2m-item">--check-trustdb</span>
Do trust database maintenance without user interaction. From time to
time the trust database must be updated so that expired keys or
signatures and the resulting changes in the Web of Trust can be
tracked. Normally, GnuPG will calculate when this is required and do it
automatically unless <samp>--no-auto-check-trustdb</samp> is set. This
command can be used to force a trust database check at any time. The
processing is identical to that of <samp>--update-trustdb</samp> but it
skips keys with a not yet defined "ownertrust".

For use with cron jobs, this command can be used together with
<samp>--batch</samp> in which case the trust database check is done only if
a check is needed. To force a run even in batch mode add the option
<samp>--yes</samp>.


</li>
<li><span class="y2m-item">--export-ownertrust</span>
Send the ownertrust values to STDOUT. This is useful for backup purposes
as these values are the only ones which can't be re-created from a
corrupted trustdb.  Example:

<pre>
  gpg --export-ownertrust &gt; otrust.txt
</pre>


</li>
<li><span class="y2m-item">--import-ownertrust</span>
Update the trustdb with the ownertrust values stored in <samp>files</samp> (or
STDIN if not given); existing values will be overwritten.  In case of a
severely damaged trustdb and if you have a recent backup of the
ownertrust values (e.g., in the file otrust.txt), you may re-create
the trustdb using these commands:

<pre>
  cd ~/.gnupg
  rm trustdb.gpg
  gpg --import-ownertrust &lt; otrust.txt
</pre>


</li>
<li><span class="y2m-item">--rebuild-keydb-caches</span>
When updating from version 1.0.6 to 1.0.7 this command should be used
to create signature caches in the keyring. It might be handy in other
situations too.

</li>
<li><span class="y2m-item">--print-md <span class="y2m-args"><u>algo</u></span></span>
    <span class="y2m-item">--print-mds</span>
Print message digest of algorithm <u>algo</u> for all given files or STDIN.
With the second form (or a deprecated "*" for <u>algo</u>) digests for all
available algorithms are printed.

</li>
<li><span class="y2m-item">--gen-random <span class="y2m-args"><u>0|1|2|16|30</u> <u>count</u></span></span>
Emit <u>count</u> random bytes of the given quality level 0, 1 or 2. If
<u>count</u> is not given or zero, an endless sequence of random bytes
will be emitted.  If used with <samp>--armor</samp> the output will be
base64 encoded.  The special level 16 uses a quality level of 1 and
outputs an endless stream of hex-encoded octets.  The special level
30 outputs random as 30 zBase-32 characters.

</li>
<li><span class="y2m-item">--gen-prime <span class="y2m-args"><u>mode</u>  <u>bits</u></span></span>
Use the source, Luke :-). The output format is subject to change
with any release.


</li>
<li><span class="y2m-item">--enarmor</span>
    <span class="y2m-item">--dearmor</span>
Pack or unpack an arbitrary input into/from an OpenPGP ASCII armor.
This is a GnuPG extension to OpenPGP and in general not very useful.
The <samp>--dearmor</samp> command can also be used to dearmor PEM armors.

</li>
<li><span class="y2m-item">--unwrap</span>
This option modifies the command <samp>--decrypt</samp> to output the
original message with the encryption layer removed.  Thus the output
will be an OpenPGP data structure which often means a signed OpenPGP
message.  Note that this option may or may not remove a compression
layer which is often found beneath the encryption layer.

</li>
<li><span class="y2m-item">--tofu-policy <span class="y2m-args">{auto|good|unknown|bad|ask}  <u>keys</u></span></span>
Set the TOFU policy for all the bindings associated with the specified
<u>keys</u>.  For more information about the meaning of the policies,
trust-model-tofu.  The <u>keys</u> may be specified either by their
fingerprint (preferred) or their keyid.


</li>
</ul>
</p>

<p>
</p>

<p>
<h3> How to manage your keys</h3>
</p>

<p>
This section explains the main commands for key management.
</p>

<p>
<ul>

<li><span class="y2m-item">--quick-generate-key <span class="y2m-args"><u>user-id</u> [<u>algo</u> [<u>usage</u> [<u>expire</u>]]]</span></span>
    <span class="y2m-item">--quick-gen-key</span>
This is a simple command to generate a standard key with one user id.
In contrast to <samp>--generate-key</samp> the key is generated directly
without the need to answer a bunch of prompts.  Unless the option
<samp>--yes</samp> is given, the key creation will be canceled if the
given user id already exists in the keyring.

If invoked directly on the console without any special options an
answer to a ``Continue?'' style confirmation prompt is required.  In
case the user id already exists in the keyring a second prompt to
force the creation of the key will show up.

If <u>algo</u> or <u>usage</u> are given, only the primary key is
created and no prompts are shown.  To specify an expiration date but
still create a primary and a subkey use ``default'',
``future-default'', or ``pqc'' for <u>algo</u> and ``default'' for
<u>usage</u>.  For a description of these optional arguments see the
command <samp>--quick-add-key</samp>; the value ``pqc'' create a key with a
quantum-resistant encryption encryption subkey.  The <u>usage</u>
accepts also the value ``cert'' which can be used to create a
certification only primary key; the default is to a create
certification and signing key.

The <u>expire</u> argument can be used to specify an expiration date
for the key.  Several formats are supported; commonly the ISO formats
``YYYY-MM-DD'' or ``YYYYMMDDThhmmss'' are used.  To make the key
expire in N seconds, N days, N weeks, N months, or N years use
``seconds=N'', ``Nd'', ``Nw'', ``Nm'', or ``Ny'' respectively.  Not
specifying a value, or using ``-'' results in a key expiring in a
reasonable default interval.  The values ``never'', ``none'' can be
used for no expiration date.

If this command is used with <samp>--batch</samp>,
<samp>--pinentry-mode</samp> has been set to <samp>loopback</samp>, and one of
the passphrase options (<samp>--passphrase</samp>,
<samp>--passphrase-fd</samp>, or <samp>--passphrase-file</samp>) is used, the
supplied passphrase is used for the new key and the agent does not ask
for it.  To create a key without any protection <samp>--passphrase ''</samp>
may be used.

To create an OpenPGP key from the keys available on the currently
inserted smartcard, the special string ``card'' can be used for
<u>algo</u>.  If the card features an encryption and a signing key, gpg
will figure them out and creates an OpenPGP key consisting of the
usual primary key and one subkey.  This works only with certain
smartcards.  Note that the interactive <samp>--full-gen-key</samp> command
allows one to do the same but with greater flexibility in the selection of
the smartcard keys.

Note that it is possible to create a primary key and a subkey using
non-default algorithms by using ``default'' and changing the default
parameters using the option <samp>--default-new-key-algo</samp>.

</li>
<li><span class="y2m-item">--quick-set-expire <span class="y2m-args"><u>fpr</u> <u>expire</u> [*|<u>subfprs</u>]</span></span>
With two arguments given, directly set the expiration time of the
primary key identified by <u>fpr</u> to <u>expire</u>.  To remove the
expiration time <samp>0</samp> can be used.  With three arguments and the
third given as an asterisk, the expiration time of all non-revoked and
not yet expired subkeys are set to <u>expire</u>.  With more than two
arguments and a list of fingerprints given for <u>subfprs</u>, all
non-revoked subkeys matching these fingerprints are set to
<u>expire</u>.


</li>
<li><span class="y2m-item">--quick-add-key <span class="y2m-args"><u>fpr</u> [<u>algo</u> [<u>usage</u> [<u>expire</u>]]]</span></span>
Directly add a subkey to the key identified by the fingerprint
<u>fpr</u>.  Without the optional arguments an encryption subkey is
added.  If any of the arguments are given a more specific subkey is
added.

<u>algo</u> may be any of the supported algorithms or curve names
given in the format as used by key listings.  To use the default
algorithm the string ``default'' or ``-'' can be used.  Supported
algorithms are ``rsa'', ``dsa'', ``elg'', ``ed25519'', ``cv25519'',
and other ECC curves.  For example the string ``rsa'' adds an RSA key
with the default key length; a string ``rsa4096'' requests that the
key length is 4096 bits.  The string ``future-default'' is an alias
for the algorithm which will likely be used as default algorithm in
future versions of gpg.  To list the supported ECC curves the command
<samp>gpg --with-colons --list-config curve</samp> can be used.

Depending on the given <u>algo</u> the subkey may either be an
encryption subkey or a signing subkey.  If an algorithm is capable of
signing and encryption and such a subkey is desired, a <u>usage</u>
string must be given.  This string is either ``default'' or ``-'' to
keep the default or a comma delimited list (or space delimited list)
of keywords: ``sign'' for a signing subkey, ``auth'' for an
authentication subkey, and ``encr'' for an encryption subkey
(``encrypt'' can be used as alias for ``encr'').  The valid
combinations depend on the algorithm.

The <u>expire</u> argument can be used to specify an expiration date
for the key.  Several formats are supported; commonly the ISO formats
``YYYY-MM-DD'' or ``YYYYMMDDThhmmss'' are used.  To make the key
expire in N seconds, N days, N weeks, N months, or N years use
``seconds=N'', ``Nd'', ``Nw'', ``Nm'', or ``Ny'' respectively.  Not
specifying a value, or using ``-'' results in a key expiring in a
reasonable default interval.  The values ``never'', ``none'' can be
used for no expiration date.

</li>
<li><span class="y2m-item">--quick-add-adsk <span class="y2m-args"><u>fpr</u> <u>adskfpr</u></span></span>
Directly add an Additional Decryption Subkey to the key identified by
the fingerprint <u>fpr</u>.  <u>adskfpr</u> is the fingerprint of
another key's encryption subkey.  A subkey is commonly used here
because by default a primary key has no encryption capability.  Use
the option <samp>--with-subkey-fingerprint</samp> with a list command to
display the subkey fingerprints.  If the string "default" is used for
<u>adskfpr</u> all missing ADSKs configured with
<samp>--default-new-key-adsk</samp> are added.

</li>
<li><span class="y2m-item">--generate-key</span>
    <span class="y2m-item">--gen-key</span>
Generate a new key pair using the current default parameters.  This is
the standard command to create a new key.  In addition to the key a
revocation certificate is created and stored in the
openpgp-revocs.d directory below the GnuPG home directory.

</li>
<li><span class="y2m-item">--full-generate-key</span>
    <span class="y2m-item">--full-gen-key</span>
Generate a new key pair with dialogs for all options.  This is an
extended version of <samp>--generate-key</samp>.

There is also a feature which allows you to create keys in batch
mode. See the manual section ``Unattended key generation'' on how
to use this.


</li>
<li><span class="y2m-item">--generate-revocation <span class="y2m-args"><u>name</u></span></span>
    <span class="y2m-item">--gen-revoke <span class="y2m-args"><u>name</u></span></span>
Generate a revocation certificate for the complete key.  To only revoke
a subkey or a key signature, use the <samp>--edit</samp> command.

This command merely creates the revocation certificate so that it can
be used to revoke the key if that is ever needed.  To actually revoke
a key the created revocation certificate needs to be merged with the
key to revoke.  This is done by importing the revocation certificate
using the <samp>--import</samp> command.  Then the revoked key needs to be
published, which is best done by sending the key to a keyserver
(command <samp>--send-key</samp>) and by exporting (<samp>--export</samp>) it
to a file which is then send to frequent communication partners.


</li>
<li><span class="y2m-item">--generate-designated-revocation <span class="y2m-args"><u>name</u></span></span>
    <span class="y2m-item">--desig-revoke <span class="y2m-args"><u>name</u></span></span>
Generate a designated revocation certificate for a key. This allows a
user (with the permission of the keyholder) to revoke someone else's
key.


</li>
<li><span class="y2m-item">--edit-key</span>
Present a menu which enables you to do most of the key management
related tasks.  It expects the specification of a key on the command
line.

</li>
<ul>

<li><span class="y2m-item">uid <span class="y2m-args"><u>n</u></span></span>
Toggle selection of user ID or photographic user ID with index <u>n</u>.
Use <samp>*</samp> to select all and <samp>0</samp> to deselect all.

</li>
<li><span class="y2m-item">key <span class="y2m-args"><u>n</u></span></span>
Toggle selection of subkey with index <u>n</u> or key ID <u>n</u>.
Use <samp>*</samp> to select all and <samp>0</samp> to deselect all.

</li>
<li><span class="y2m-item">sign</span>
Make a signature on key of user <samp>name</samp>. If the key is not yet
signed by the default user (or the users given with <samp>-u</samp>), the program
displays the information of the key again, together with its
fingerprint and asks whether it should be signed. This question is
repeated for all users specified with
<samp>-u</samp>.

</li>
<li><span class="y2m-item">lsign</span>
Same as "sign" but the signature is marked as non-exportable and will
therefore never be used by others. This may be used to make keys
valid only in the local environment.

</li>
<li><span class="y2m-item">nrsign</span>
Same as "sign" but the signature is marked as non-revocable and can
therefore never be revoked.

</li>
<li><span class="y2m-item">tsign</span>
Make a trust signature. This is a signature that combines the notions
of certification (like a regular signature), and trust (like the
"trust" command). It is generally useful in distinct communities
or groups to implement the concept of a Trusted Introducer.  For
more information please read the sections ``Trust Signature'' and
``Regular Expression'' in RFC-4880.
</li>
</ul>

Note that "l" (for local / non-exportable), "nr" (for non-revocable,
and "t" (for trust) may be freely mixed and prefixed to "sign" to
create a signature of any type desired.

If the option <samp>--only-sign-text-ids</samp> is specified, then any
non-text based user ids (e.g., photo IDs) will not be selected for
signing.

<ul>

<li><span class="y2m-item">delsig</span>
Delete a signature. Note that it is not possible to retract a signature,
once it has been send to the public (i.e., to a keyserver).  In that case
you better use <samp>revsig</samp>.

</li>
<li><span class="y2m-item">revsig</span>
Revoke a signature. For every signature which has been generated by
one of the secret keys, GnuPG asks whether a revocation certificate
should be generated.

</li>
<li><span class="y2m-item">check</span>
Check the signatures on all selected user IDs.  With the extra
option <samp>selfsig</samp> only self-signatures are shown.

</li>
<li><span class="y2m-item">adduid</span>
Create an additional user ID.

</li>
<li><span class="y2m-item">addphoto</span>
Create a photographic user ID. This will prompt for a JPEG file that
will be embedded into the user ID. Note that a very large JPEG will make
for a very large key. Also note that some programs will display your
JPEG unchanged (GnuPG), and some programs will scale it to fit in a
dialog box (PGP).

</li>
<li><span class="y2m-item">showphoto</span>
Display the selected photographic user ID.

</li>
<li><span class="y2m-item">deluid</span>
Delete a user ID or photographic user ID.  Note that it is not
possible to retract a user id, once it has been send to the public
(i.e., to a keyserver).  In that case you better use <samp>revuid</samp>.

</li>
<li><span class="y2m-item">revuid</span>
Revoke a user ID or photographic user ID.

</li>
<li><span class="y2m-item">primary</span>
Flag the current user id as the primary one, removes the primary user
id flag from all other user ids and sets the timestamp of all affected
self-signatures one second ahead. Note that setting a photo user ID
as primary makes it primary over other photo user IDs, and setting a
regular user ID as primary makes it primary over other regular user
IDs.

</li>
<li><span class="y2m-item">keyserver</span>
Set a preferred keyserver for the specified user ID(s). This allows
other users to know where you prefer they get your key from. See
<samp>--keyserver-options honor-keyserver-url</samp> for more on how this
works.  Setting a value of "none" removes an existing preferred
keyserver.

</li>
<li><span class="y2m-item">notation</span>
Set a name=value notation for the specified user ID(s). See
<samp>--cert-notation</samp> for more on how this works. Setting a value of
"none" removes all notations, setting a notation prefixed with a minus
sign (-) removes that notation, and setting a notation name (without the
=value) prefixed with a minus sign removes all notations with that name.

</li>
<li><span class="y2m-item">pref</span>
List preferences from the selected user ID. This shows the actual
preferences, without including any implied preferences.

</li>
<li><span class="y2m-item">showpref</span>
More verbose preferences listing for the selected user ID. This shows
the preferences in effect by including the implied preferences of 3DES
(cipher), SHA-1 (digest), and Uncompressed (compression) if they are
not already included in the preference list. In addition, the
preferred keyserver and signature notations (if any) are shown.

</li>
<li><span class="y2m-item">setpref <span class="y2m-args"><u>string</u></span></span>
Set the list of user ID preferences to <u>string</u> for all (or just
the selected) user IDs. Calling setpref with no arguments sets the
preference list to the default (either built-in or set via
<samp>--default-preference-list</samp>), and calling setpref with "none"
as the argument sets an empty preference list. Use <i>gpg
--version</i> to get a list of available algorithms. Note that while you
can change the preferences on an attribute user ID (aka "photo ID"),
GnuPG does not select keys via attribute user IDs so these preferences
will not be used by GnuPG.  Note that an unattended version of this
command is available as <samp>--quick-update-pref</samp>.

When setting preferences, you should list the algorithms in the order
which you'd like to see them used by someone else when encrypting a
message to your key.  If you don't include 3DES, it will be
automatically added at the end.  Note that there are many factors that
go into choosing an algorithm (for example, your key may not be the
only recipient), and so the remote OpenPGP application being used to
send to you may or may not follow your exact chosen order for a given
message.  It will, however, only choose an algorithm that is present
on the preference list of every recipient key.  See also the
INTEROPERABILITY WITH OTHER OPENPGP PROGRAMS section below.

</li>
<li><span class="y2m-item">addkey</span>
Add a subkey to this key.

</li>
<li><span class="y2m-item">addcardkey</span>
Generate a subkey on a card and add it to this key.

</li>
<li><span class="y2m-item">keytocard</span>
Transfer the selected secret subkey (or the primary key if no subkey
has been selected) to a smartcard. The secret key in the keyring
will be replaced by a stub if the key could be stored successfully
on the card and you use the save command later. Only certain key
types may be transferred to the card. A sub menu allows you to
select on what card to store the key. Note that it is not possible
to get that key back from the card --- if the card gets broken your
secret key will be lost unless you have a backup somewhere.

</li>
<li><span class="y2m-item">bkuptocard <span class="y2m-args"><u>file</u></span></span>
Restore the given <u>file</u> to a card. This command may be used to restore a
backup key (as generated during card initialization) to a new card. In
almost all cases this will be the encryption key. You should use this
command only with the corresponding public key and make sure that the
file given as argument is indeed the backup to restore. You should then
select 2 to restore as encryption key.  You will first be asked to enter
the passphrase of the backup key and then for the Admin PIN of the card.

</li>
<li><span class="y2m-item">keytotpm</span>
Transfer the selected secret subkey (or the primary key if no subkey
has been selected) to TPM form.  The secret key in the keyring will
be replaced by the TPM representation of that key, which can only be
read by the particular TPM that created it (so the keyfile now
becomes locked to the laptop containing the TPM).  Only certain key
types may be transferred to the TPM (all TPM 2.0 systems are
mandated to have the rsa2048 and nistp256 algorithms but newer TPMs
may have more). Note that the key itself is not transferred into the
TPM, merely encrypted by the TPM in-place, so if the keyfile is
deleted, the key will be lost.  Once transferred to TPM
representation, the key file can never be converted back to non-TPM
form and the key will die when the TPM does, so you should first
have a backup on secure offline storage of the actual secret key
file before conversion.  It is essential to use the physical system
TPM that you have rw permission on the TPM resource manager device
(/dev/tpmrm0).  Usually this means you must be a member of the tss
group.

</li>
<li><span class="y2m-item">delkey</span>
Remove a subkey (secondary key). Note that it is not possible to retract
a subkey, once it has been send to the public (i.e., to a keyserver).  In
that case you better use <samp>revkey</samp>.  Also note that this only
deletes the public part of a key.

</li>
<li><span class="y2m-item">revkey</span>
Revoke a subkey.

</li>
<li><span class="y2m-item">expire</span>
Change the key or subkey expiration time. If a subkey is selected, the
expiration time of this subkey will be changed. With no selection, the
key expiration of the primary key is changed.

</li>
<li><span class="y2m-item">trust</span>
Change the owner trust value for the key. This updates the trust-db
immediately and no save is required.

</li>
<li><span class="y2m-item">disable</span>
    <span class="y2m-item">enable</span>
Disable or enable an entire key. A disabled key can not normally be
used for encryption.

</li>
<li><span class="y2m-item">addrevoker</span>
Add a designated revoker to the key. This takes one optional argument:
"sensitive". If a designated revoker is marked as sensitive, it will
not be exported by default (see export-options).

</li>
<li><span class="y2m-item">addadsk</span>
Add an Additional Decryption Subkey.  The user is asked to enter the
fingerprint of another encryption subkey.  Note that the exact
fingerprint of another key's encryption subkey needs to be entered.
This is because commonly the primary key has no encryption
capability.  Use the option <samp>--with-subkey-fingerprint</samp> with
a list command to display the subkey fingerprints.

</li>
<li><span class="y2m-item">passwd</span>
Change the passphrase of the secret key.

</li>
<li><span class="y2m-item">toggle</span>
This is dummy command which exists only for backward compatibility.

</li>
<li><span class="y2m-item">clean</span>
Compact (by removing all signatures except the selfsig) any user ID
that is no longer usable (e.g., revoked, or expired). Then, remove any
signatures that are not usable by the trust calculations.
Specifically, this removes any signature that does not validate, any
signature that is superseded by a later signature, revoked signatures,
and signatures issued by keys that are not present on the keyring.

</li>
<li><span class="y2m-item">minimize</span>
Make the key as small as possible. This removes all signatures from
each user ID except for the most recent self-signature.

</li>
<li><span class="y2m-item">change-usage</span>
Change the usage flags (capabilities) of the primary key or of
subkeys.  These usage flags (e.g., Certify, Sign, Authenticate,
Encrypt) are set during key creation.  Sometimes it is useful to
have the opportunity to change them (for example to add
Authenticate) after they have been created.  Please take care when
doing this; the allowed usage flags depend on the key algorithm.

</li>
<li><span class="y2m-item">cross-certify</span>
Add cross-certification signatures to signing subkeys that may not
currently have them. Cross-certification signatures protect against a
subtle attack against signing subkeys. See
<samp>--require-cross-certification</samp>.  All new keys generated have
this signature by default, so this command is only useful to bring
older keys up to date.

</li>
<li><span class="y2m-item">save</span>
Save all changes to the keyring and quit.

</li>
<li><span class="y2m-item">quit</span>
Quit the program without updating the
keyring.
</li>
</ul>

The listing shows you the key with its secondary keys and all user
IDs.  The primary user ID is indicated by a dot, and selected keys or
user IDs are indicated by an asterisk.  The trust
value is displayed with the primary key: "trust" is the assigned owner
trust and "validity" is the calculated validity of the key.  Validity
values are also displayed for all user IDs.
For possible values of trust, trust-values.

<li><span class="y2m-item">--sign-key <span class="y2m-args"><u>name</u></span></span>
Signs a public key with your secret key. This is a shortcut version of
the subcommand "sign" from <samp>--edit-key</samp>.

</li>
<li><span class="y2m-item">--lsign-key <span class="y2m-args"><u>name</u></span></span>
Signs a public key with your secret key but marks it as
non-exportable. This is a shortcut version of the subcommand "lsign"
from <samp>--edit-key</samp>.

</li>
<li><span class="y2m-item">--quick-sign-key <span class="y2m-args"><u>fpr</u> [<u>names</u>]</span></span>
    <span class="y2m-item">--quick-lsign-key <span class="y2m-args"><u>fpr</u> [<u>names</u>]</span></span>
Directly sign a key from the passphrase without any further user
interaction.  The <u>fpr</u> must be the verified primary fingerprint
of a key in the local keyring. If no <u>names</u> are given, all
useful user ids are signed; with given [<u>names</u>] only useful user
ids matching one of these names are signed.  By default, or if a name
is prefixed with a '*', a case insensitive substring match is used.
If a name is prefixed with a '=' a case sensitive exact match is done.

The command <samp>--quick-lsign-key</samp> marks the signatures as
non-exportable.  If such a non-exportable signature already exists the
<samp>--quick-sign-key</samp> turns it into a exportable signature.  If
you need to update an existing signature, for example to add or change
notation data, you need to use the option <samp>--force-sign-key</samp>.

This command uses reasonable defaults and thus does not provide the
full flexibility of the "sign" subcommand from <samp>--edit-key</samp>.
Its intended use is to help unattended key signing by utilizing a list
of verified fingerprints.

</li>
<li><span class="y2m-item">--quick-add-uid <span class="y2m-args"><u>user-id</u> <u>new-user-id</u></span></span>
This command adds a new user id to an existing key.  In contrast to
the interactive sub-command <samp>adduid</samp> of <samp>--edit-key</samp> the
<u>new-user-id</u> is added verbatim with only leading and trailing
white space removed, it is expected to be UTF-8 encoded, and no checks
on its form are applied.

</li>
<li><span class="y2m-item">--quick-revoke-uid <span class="y2m-args"><u>user-id</u> <u>user-id-to-revoke</u></span></span>
This command revokes a user ID on an existing key.  It cannot be used
to revoke the last user ID on key (some non-revoked user ID must
remain), with revocation reason ``User ID is no longer valid''.  If
you want to specify a different revocation reason, or to supply
supplementary revocation text, you should use the interactive
sub-command <samp>revuid</samp> of <samp>--edit-key</samp>.

</li>
<li><span class="y2m-item">--quick-revoke-sig <span class="y2m-args"><u>fpr</u> <u>signing-fpr</u> [<u>names</u>]</span></span>
This command revokes the key signatures made by <u>signing-fpr</u> from
the key specified by the fingerprint <u>fpr</u>.  With <u>names</u>
given only the signatures on user ids of the key matching any of the
given names are affected (see <samp>--quick-sign-key</samp>).  If a
revocation already exists a notice is printed instead of creating a
new revocation; no error is returned in this case.  Note that key
signature revocations may be superseded by a newer key signature and
in turn again revoked.

</li>
<li><span class="y2m-item">--quick-set-primary-uid <span class="y2m-args"><u>user-id</u> <u>primary-user-id</u></span></span>
This command sets or updates the primary user ID flag on an existing
key.  <u>user-id</u> specifies the key and <u>primary-user-id</u> the
user ID which shall be flagged as the primary user ID.  The primary
user ID flag is removed from all other user ids and the timestamp of
all affected self-signatures is set one second ahead.

</li>
<li><span class="y2m-item">--quick-update-pref <span class="y2m-args"><u>user-id</u></span></span>
This command updates the preference list of the key to the current
default value (either built-in or set via
<samp>--default-preference-list</samp>).  This is the unattended version
of using "setpref" in the <samp>--key-edit</samp> menu without giving a
list.  Note that you can show the preferences in a key listing by
using <samp>--list-options show-pref</samp> or <samp>--list-options
show-pref-verbose</samp>.  You should also re-distribute updated keys to
your peers.

</li>
<li><span class="y2m-item">--quick-set-ownertrust <span class="y2m-args"><u>user-id</u> <u>value</u></span></span>
This command sets the ownertrust of a key and can also be used to set
the disable flag of a key.  This is the unattended version of using
"trust", "disable", or "enable" in the <samp>--key-edit</samp> menu.


</li>
<li><span class="y2m-item">--change-passphrase <span class="y2m-args"><u>user-id</u></span></span>
    <span class="y2m-item">--passwd <span class="y2m-args"><u>user-id</u></span></span>
Change the passphrase of the secret key belonging to the certificate
specified as <u>user-id</u>.  This is a shortcut for the sub-command
<samp>passwd</samp> of the <samp>--edit-key</samp> menu.  When using together with the
option <samp>--dry-run</samp> this will not actually change the passphrase
but check that the current passphrase is correct.

</li>
</ul>
</p>

<p>
</p>

<p>

</div>
<div class="y2m-section">
<h2 class="y2m-sh">OPTIONS</h2>

<p></p>

<p>
<i>gpg</i> features a bunch of options to control the exact
behaviour and to change the default configuration.
</p>

<p>
</p>

<p>
Long options can be put in an options file (default
"~/.gnupg/gpg.conf"). Short option names will not work --- for
example, "armor" is a valid option for the options file, while "a" is
not. Do not write the 2 dashes, but simply the name of the option and
any required arguments. Lines with a hash ('#') as the first
non-white-space character are ignored. Commands may be put in this
file too, but that is not generally useful as the command will execute
automatically with every execution of gpg.
</p>

<p>
Please remember that option parsing stops as soon as a non-option is
encountered, you can explicitly stop parsing by using the special option
<samp>--</samp>.
</p>

<p>
<h3> How to change the configuration</h3>
</p>

<p>
These options are used to change the configuration and most of them
are usually found in the option file.
</p>

<p>
<ul>

<li><span class="y2m-item">--default-key <span class="y2m-args"><u>name</u></span></span>
Use <u>name</u> as the default key to sign with.  It is suggested to
use a fingerprint or at least a long keyID for <u>name</u>.  If this
option is not used, the default key is the first key found in the
secret keyring.  Note that <samp>-u</samp> or <samp>--local-user</samp>
overrides this option.  This option may be given multiple times.  In
this case, the last key for which a secret key is available is used.
If there is no secret key available for any of the specified values,
GnuPG will not emit an error message but continue as if this option
wasn't given.


</li>
<li><span class="y2m-item">--default-recipient <span class="y2m-args"><u>name</u></span></span>
Use <u>name</u> as default recipient if option <samp>--recipient</samp> is
not used and don't ask if this is a valid one. <u>name</u> must be
non-empty and it is suggested to use a fingerprint for <u>name</u>.

</li>
<li><span class="y2m-item">--default-recipient-self</span>
Use the default key as default recipient if option <samp>--recipient</samp> is not
used and don't ask if this is a valid one. The default key is the first
one from the secret keyring or the one set with <samp>--default-key</samp>.

</li>
<li><span class="y2m-item">--no-default-recipient</span>
Reset <samp>--default-recipient</samp> and <samp>--default-recipient-self</samp>.
Should not be used in an option file.

</li>
<li><span class="y2m-item">-v, <span class="y2m-args">--verbose</span></span>
Give more information during processing. If used
twice, the input data is listed in detail.

</li>
<li><span class="y2m-item">--no-verbose</span>
Reset verbose level to 0.  Should not be used in an option file.

</li>
<li><span class="y2m-item">-q, <span class="y2m-args">--quiet</span></span>
Try to be as quiet as possible.  Should not be used in an option file.

</li>
<li><span class="y2m-item">--batch</span>
    <span class="y2m-item">--no-batch</span>
Use batch mode.  Never ask, do not allow interactive commands.
<samp>--no-batch</samp> disables this option.  Note that even with a
filename given on the command line, gpg might still need to read from
STDIN (in particular if gpg figures that the input is a
detached signature and no data file has been specified).  Thus if you
do not want to feed data via STDIN, you should connect STDIN to
/dev/null.

It is highly recommended to use this option along with the options
<samp>--status-fd</samp> and <samp>--with-colons</samp> for any unattended use of
<i>gpg</i>.  Should not be used in an option file.

</li>
<li><span class="y2m-item">--no-tty</span>
Make sure that the TTY (terminal) is never used for any output.
This option is needed in some cases because GnuPG sometimes prints
warnings to the TTY even if <samp>--batch</samp> is used.

</li>
<li><span class="y2m-item">--yes</span>
Assume "yes" on most questions.  Should not be used in an option file.

</li>
<li><span class="y2m-item">--no</span>
Assume "no" on most questions.  Should not be used in an option file.


</li>
<li><span class="y2m-item">--proc-all-sigs</span>
This option overrides the behaviour of the <samp>--batch</samp> option to
stop signature verification at the first bad signatures.


</li>
<li><span class="y2m-item">--list-filter <span class="y2m-args">{select=<u>expr</u>}</span></span>
A list filter can be used to output only certain keys during key
listing commands. For the available property names, see the description
of <samp>--import-filter</samp>.


</li>
<li><span class="y2m-item">--list-options <span class="y2m-args"><u>parameters</u></span></span>
This is a space or comma delimited string that gives options used when
listing keys and signatures (that is, <samp>--list-keys</samp>,
<samp>--check-signatures</samp>, <samp>--list-public-keys</samp>,
<samp>--list-secret-keys</samp>, and the <samp>--edit-key</samp> functions).
Options can be prepended with a <samp>no-</samp> (after the two dashes) to
give the opposite meaning.  The options are:

</li>
<ul>

<li><span class="y2m-item">show-photos</span>
Causes <samp>--list-keys</samp>, <samp>--check-signatures</samp>,
<samp>--list-public-keys</samp>, and <samp>--list-secret-keys</samp> to
display any photo IDs attached to the key.  Defaults to no. See also
<samp>--photo-viewer</samp>.  Does not work with <samp>--with-colons</samp>:
see <samp>--attribute-fd</samp> for the appropriate way to get photo data
for scripts and other frontends.

</li>
<li><span class="y2m-item">show-usage</span>
Show usage information for keys and subkeys in the standard key
listing.  This is a list of letters indicating the allowed usage for a
key (<samp>E</samp>=encryption, <samp>S</samp>=signing, <samp>C</samp>=certification,
<samp>A</samp>=authentication).  Defaults to yes.

</li>
<li><span class="y2m-item">show-ownertrust</span>
Show the ownertrust value for keys also in the standard key
listing.  Defaults to no.

</li>
<li><span class="y2m-item">show-policy-urls</span>
Show policy URLs in the  <samp>--check-signatures</samp>
listings.  Defaults to no.

</li>
<li><span class="y2m-item">show-notations</span>
    <span class="y2m-item">show-std-notations</span>
    <span class="y2m-item">show-user-notations</span>
Show all, IETF standard, or user-defined signature notations in the
<samp>--check-signatures</samp> listings. Defaults to no.

</li>
<li><span class="y2m-item">show-x509-notations</span>
Print X.509 certificates embedded in key signatures as PEM data.
This is intended for debugging and the output format may change
without notice.

</li>
<li><span class="y2m-item">store-x509-notations</span>
Store X.509 certificates embedded in key signatures as PEM data
files.  The filename consists the 4 byte key ID of the certificate,
a dash, the fingerprint of the key or subkey, and the suffix ".pem".

</li>
<li><span class="y2m-item">show-keyserver-urls</span>
Show any preferred keyserver URL in the
<samp>--check-signatures</samp> listings. Defaults to no.

</li>
<li><span class="y2m-item">show-uid-validity</span>
Display the calculated validity of user IDs during key listings.
Defaults to yes.

</li>
<li><span class="y2m-item">show-unusable-uids</span>
Show revoked and expired user IDs in key listings. Defaults to no.

</li>
<li><span class="y2m-item">show-unusable-subkeys</span>
Show revoked and expired subkeys in key listings. Defaults to no.

</li>
<li><span class="y2m-item">show-unusable-sigs</span>
Show key signature made using weak or unsupported algorithms.

</li>
<li><span class="y2m-item">show-keyring</span>
Display the keyring name at the head of key listings to show which
keyring a given key resides on. Defaults to no.

</li>
<li><span class="y2m-item">show-sig-expire</span>
Show signature expiration dates (if any) during
<samp>--check-signatures</samp> listings. Defaults to no.

</li>
<li><span class="y2m-item">show-sig-subpackets</span>
Include signature subpackets in the key listing. This option can take an
optional argument list of the subpackets to list. If no argument is
passed, list all subpackets. Defaults to no. This option is only
meaningful when using <samp>--with-colons</samp> along with
<samp>--check-signatures</samp>.

</li>
<li><span class="y2m-item">show-only-fpr-mbox</span>
For each user-id which has a valid mail address print
only the fingerprint followed by the mail address.

</li>
<li><span class="y2m-item">sort-sigs</span>
With <samp>--list-sigs</samp> and <samp>--check-sigs</samp> sort the
signatures by keyID and creation time to make it easier to view the
history of these signatures.  The self-signature is also listed
before other signatures. Defaults to yes.  This option has no effect
in <samp>-with-colons</samp> mode.

</li>
</ul>

<li><span class="y2m-item">--verify-options <span class="y2m-args"><u>parameters</u></span></span>
This is a space or comma delimited string that gives options used when
verifying signatures. Options can be prepended with a `no-' to give
the opposite meaning. The options are:

</li>
<ul>

<li><span class="y2m-item">show-photos</span>
Display any photo IDs present on the key that issued the signature.
Defaults to no. See also <samp>--photo-viewer</samp>.

</li>
<li><span class="y2m-item">show-policy-urls</span>
Show policy URLs in the signature being verified. Defaults to yes.

</li>
<li><span class="y2m-item">show-notations</span>
    <span class="y2m-item">show-std-notations</span>
    <span class="y2m-item">show-user-notations</span>
Show all, IETF standard, or user-defined signature notations in the
signature being verified. Defaults to IETF standard.

</li>
<li><span class="y2m-item">show-keyserver-urls</span>
Show any preferred keyserver URL in the signature being verified.
Defaults to yes.

</li>
<li><span class="y2m-item">show-uid-validity</span>
Display the calculated validity of the user IDs on the key that issued
the signature. Defaults to yes.

</li>
<li><span class="y2m-item">show-unusable-uids</span>
Show revoked and expired user IDs during signature verification.
Defaults to no.

</li>
<li><span class="y2m-item">show-primary-uid-only</span>
Show only the primary user ID during signature verification.  That is
all the AKA lines as well as photo Ids are not shown with the signature
verification status.

</li>
</ul>

<li><span class="y2m-item">--enable-large-rsa</span>
    <span class="y2m-item">--disable-large-rsa</span>
With <samp>--generate-key</samp> and <samp>--batch</samp>, enable the creation
of RSA secret keys as large as 8192 bit.  Note: 8192 bit is more than
is generally recommended.  These large keys don't significantly
improve security, but they are more expensive to use, and their
signatures and certifications are larger.  This option is only
available if the binary was build with large-secmem support.

</li>
<li><span class="y2m-item">--enable-dsa2</span>
    <span class="y2m-item">--disable-dsa2</span>
Enable hash truncation for all DSA keys even for old DSA Keys up to
1024 bit.  This is also the default with <samp>--openpgp</samp>.  Note
that older versions of GnuPG also required this flag to allow the
generation of DSA larger than 1024 bit.

</li>
<li><span class="y2m-item">--photo-viewer <span class="y2m-args"><u>string</u></span></span>
This is the command line that should be run to view a photo ID. "%i"
will be expanded to a filename containing the photo. "%I" does the
same, except the file will not be deleted once the viewer exits.
Other flags are "%k" for the key ID, "%K" for the long key ID, "%f"
for the key fingerprint, "%t" for the extension of the image type
(e.g., "jpg"), "%T" for the MIME type of the image (e.g., "image/jpeg"),
"%v" for the single-character calculated validity of the image being
viewed (e.g., "f"), "%V" for the calculated validity as a string (e.g.,
"full"), "%U" for a base32 encoded hash of the user ID,
and "%%" for an actual percent sign. If neither %i or %I are present,
then the photo will be supplied to the viewer on standard input.

On Unix the default viewer is
<samp>xloadimage -fork -quiet -title 'KeyID 0x%k' STDIN</samp>
with a fallback to
<samp>display -title 'KeyID 0x%k' %i</samp>
and finally to
<samp>xdg-open %i</samp>.
On Windows
<samp>!ShellExecute 400 %i</samp> is used; here the command is a meta
command to use that API call followed by a wait time in milliseconds
which is used to give the viewer time to read the temporary image file
before gpg deletes it again.  Note that if your image viewer program
is not secure, then executing it from gpg does not make it secure.

</li>
<li><span class="y2m-item">--exec-path <span class="y2m-args"><u>string</u></span></span>
Sets a list of directories to search for photo viewers If not provided
photo viewers use the <samp>PATH</samp> environment variable.

</li>
<li><span class="y2m-item">--keyring <span class="y2m-args"><u>file</u></span></span>
Add <u>file</u> to the current list of keyrings. If <u>file</u> begins
with a tilde and a slash, these are replaced by the $HOME directory. If
the filename does not contain a slash, it is assumed to be in the GnuPG
home directory ("~/.gnupg" unless <samp>--homedir</samp> or $GNUPGHOME is
used).

Note that this adds a keyring to the current list. If the intent is to
use the specified keyring alone, use <samp>--keyring</samp> along with
<samp>--no-default-keyring</samp>.

If the option <samp>--no-keyring</samp> has been used no keyrings will
be used at all.

Note that if the option <samp>use-keyboxd</samp> is enabled in
common.conf, no keyrings are used at all and keys are all
maintained by the keyboxd process in its own database.

</li>
<li><span class="y2m-item">--primary-keyring <span class="y2m-args"><u>file</u></span></span>
This is a variant of <samp>--keyring</samp> and designates <u>file</u> as
the primary public keyring. This means that newly imported keys (via
<samp>--import</samp> or keyserver <samp>--recv-from</samp>) will go to this
keyring.


</li>
<li><span class="y2m-item">--secret-keyring <span class="y2m-args"><u>file</u></span></span>
This is an obsolete option and ignored.  All secret keys are stored in
the private-keys-v1.d directory below the GnuPG home directory.

</li>
<li><span class="y2m-item">--trustdb-name <span class="y2m-args"><u>file</u></span></span>
Use <u>file</u> instead of the default trustdb. If <u>file</u> begins
with a tilde and a slash, these are replaced by the $HOME directory. If
the filename does not contain a slash, it is assumed to be in the GnuPG
home directory (~/.gnupg if <samp>--homedir</samp> or $GNUPGHOME is
not used).

</li>
<li><span class="y2m-item">--homedir <span class="y2m-args"><u>dir</u></span></span>
Set the name of the home directory to <u>dir</u>. If this option is not
used, the home directory defaults to ~/.gnupg.  It is only
recognized when given on the command line.  It also overrides any home
directory stated through the environment variable GNUPGHOME or
(on Windows systems) by means of the Registry entry
<u>HKCU&bsol;Software&bsol;GNU&bsol;GnuPG:HomeDir</u>.

On Windows systems it is possible to install GnuPG as a portable
application.  In this case only this command line option is
considered, all other ways to set a home directory are ignored.


</li>
<li><span class="y2m-item">--display-charset <span class="y2m-args"><u>name</u></span></span>
Set the name of the native character set. This is used to convert some
informational strings like user IDs to the proper UTF-8 encoding.
Note that this has nothing to do with the character set of data to be
encrypted or signed; GnuPG does not recode user-supplied data. If this
option is not used, the default character set is determined from the
current locale. A verbosity level of 3 shows the chosen set.  This
option should not be used on Windows.  Valid values for <u>name</u>
are:

</li>
<ul>

<li><span class="y2m-item">iso-8859-1</span>
This is the Latin 1 set.

</li>
<li><span class="y2m-item">iso-8859-2</span>
The Latin 2 set.

</li>
<li><span class="y2m-item">iso-8859-15</span>
This is currently an alias for
the Latin 1 set.

</li>
<li><span class="y2m-item">koi8-r</span>
The usual Russian set (RFC-1489).

</li>
<li><span class="y2m-item">utf-8</span>
Bypass all translations and assume
that the OS uses native UTF-8 encoding.
</li>
</ul>

<li><span class="y2m-item">--utf8-strings</span>
    <span class="y2m-item">--no-utf8-strings</span>
Assume that command line arguments are given as UTF-8 strings. The
default (<samp>--no-utf8-strings</samp>) is to assume that arguments are
encoded in the character set as specified by
<samp>--display-charset</samp>. These options affect all following
arguments. Both options may be used multiple times.
This option should not be used in an option file.

This option has no effect on Windows.  There the internal used UTF-8
encoding is translated for console input and output.  The command line
arguments are expected as Unicode and translated to UTF-8.  Thus when
calling this program from another, make sure to use the Unicode
version of CreateProcess.


</li>
<li><span class="y2m-item">--options <span class="y2m-args"><u>file</u></span></span>
Read options from <u>file</u> and do not try to read them from the
default options file in the homedir (see <samp>--homedir</samp>). This
option is ignored if used in an options file.

</li>
<li><span class="y2m-item">--no-options</span>
Shortcut for <samp>--options /dev/null</samp>. This option is detected
before an attempt to open an option file.  Using this option will also
prevent the creation of a ~/.gnupg homedir.

</li>
<li><span class="y2m-item">-z <span class="y2m-args"><u>n</u></span></span>
    <span class="y2m-item">--compress-level <span class="y2m-args"><u>n</u></span></span>
    <span class="y2m-item">--bzip2-compress-level <span class="y2m-args"><u>n</u></span></span>
    <span class="y2m-item">--no-compress</span>
Set compression level to <u>n</u> for the ZIP and ZLIB compression
algorithms. The default is to use the default compression level of zlib
(normally 6). <samp>--bzip2-compress-level</samp> sets the compression level
for the BZIP2 compression algorithm (defaulting to 6 as well). This is a
different option from <samp>--compress-level</samp> since BZIP2 uses a
significant amount of memory for each additional compression level.

Option <samp>-z</samp> sets both. A value of 0 for <u>n</u> disables
compression.  A value of -1 forces compression using the default
level.  Option <samp>--no-compress</samp> is identical to <samp>-z0</samp>.

Except for the <samp>--store</samp> command compression is always used
unless <i>gpg</i> detects that the input is already compressed.  To
inhibit the use of compression use <samp>-z0</samp> or
<samp>--no-compress</samp>; to force compression use <samp>-z-1</samp> or
option <samp>z</samp> with another compression level than the default as
indicated by -1.  Note that this overriding of the default deection
works only with <samp>z</samp> and not with the long variant of this
option.


</li>
<li><span class="y2m-item">--bzip2-decompress-lowmem</span>
Use a different decompression method for BZIP2 compressed files. This
alternate method uses a bit more than half the memory, but also runs
at half the speed. This is useful under extreme low memory
circumstances when the file was originally compressed at a high
<samp>--bzip2-compress-level</samp>.


</li>
<li><span class="y2m-item">--mangle-dos-filenames</span>
    <span class="y2m-item">--no-mangle-dos-filenames</span>
Older version of Windows cannot handle filenames with more than one
dot. <samp>--mangle-dos-filenames</samp> causes GnuPG to replace (rather
than add to) the extension of an output filename to avoid this
problem. This option is off by default and has no effect on non-Windows
platforms.

</li>
<li><span class="y2m-item">--ask-cert-level</span>
    <span class="y2m-item">--no-ask-cert-level</span>
When making a key signature, prompt for a certification level. If this
option is not specified, the certification level used is set via
<samp>--default-cert-level</samp>. See <samp>--default-cert-level</samp> for
information on the specific levels and how they are
used. <samp>--no-ask-cert-level</samp> disables this option. This option
defaults to no.

</li>
<li><span class="y2m-item">--default-cert-level <span class="y2m-args"><u>n</u></span></span>
The default to use for the check level when signing a key.

0 means you make no particular claim as to how carefully you verified
the key.

1 means you believe the key is owned by the person who claims to own
it but you could not, or did not verify the key at all. This is
useful for a "persona" verification, where you sign the key of a
pseudonymous user.

2 means you did casual verification of the key. For example, this
could mean that you verified the key fingerprint and checked the
user ID on the key against a photo ID.

3 means you did extensive verification of the key. For example, this
could mean that you verified the key fingerprint with the owner of the
key in person, and that you checked, by means of a hard to forge
document with a photo ID (such as a passport) that the name of the key
owner matches the name in the user ID on the key, and finally that you
verified (by exchange of email) that the email address on the key
belongs to the key owner.

Note that the examples given above for levels 2 and 3 are just that:
examples. In the end, it is up to you to decide just what "casual"
and "extensive" mean to you.

This option defaults to 0 (no particular claim).

</li>
<li><span class="y2m-item">--min-cert-level</span>
When building the trust database, treat any signatures with a
certification level below this as invalid. Defaults to 2, which
disregards level 1 signatures. Note that level 0 "no particular
claim" signatures are always accepted.

</li>
<li><span class="y2m-item">--trusted-key <span class="y2m-args"><u>long key ID or fingerprint</u></span></span>
Assume that the specified key (which should be given as fingerprint)
is as trustworthy as one of your own secret keys. This option is
useful if you don't want to keep your secret keys (or one of them)
online but still want to be able to check the validity of a given
recipient's or signator's key.  If the given key is not locally
available but an LDAP keyserver is configured the missing key is
imported from that server.  The value "none" is explicitly allowed to
distinguish between the use of any trusted-key option and no use of
this option at all (e.g. due to the <samp>--no-options</samp> option).

</li>
<li><span class="y2m-item">--add-desig-revoker <span class="y2m-args">[sensitive:]<u>fingerprint</u></span></span>
Add the key specified by <u>fingerprint</u> as a designated revoker to
newly created keys.  If the fingerprint is prefixed with the keyword
``sensitive:'' that info is normally not exported with the key.  This
option may be given several times to add more than one designated
revoker.  If the keyword ``clear'' is used instead of a fingerprint,
all previously fiven fingerprints are discarded.  Designated revokers
are marked on the key as non-revocable.  Note that a designated
revoker specified using a parameter file will also be added to the
key.

</li>
<li><span class="y2m-item">--default-new-key-adsk <span class="y2m-args"><u>fingerprint</u></span></span>
Add the subkey specified by <u>fingerprint</u> as an Additional
Decryption Subkey (ADSK) to newly created keys.  This option may be
given several time to add more than one ADSK.  It is also possible to
give several fingerprints delimited by space or comma as value to this
option.  If the keyword ``clear'' is used instead of a fingerprint,
all previously specified fingerprints are discarded (useful to
override options given in a config file).  The fingerprint is expected
to specify a subkey and it does not need an exclamation mark as
suffix; it must be given in cmpact format (40 or 64 hex-digits without
any spaces).


</li>
<li><span class="y2m-item">--trust-model <span class="y2m-args">{pgp|classic|tofu|tofu+pgp|direct|always|auto}</span></span>
Set what trust model GnuPG should follow. The models are:

</li>
<ul>

<li><span class="y2m-item">pgp</span>
This is the Web of Trust combined with trust signatures as used in PGP
5.x and later. This is the default trust model when creating a new
trust database.

</li>
<li><span class="y2m-item">classic</span>
This is the standard Web of Trust as introduced by PGP 2.

</li>
<li><span class="y2m-item">tofu</span>

TOFU stands for Trust On First Use.  In this experimental trust
model, the first
time a key is seen, it is memorized.  If later another key with a
user id with the same email address is seen, both keys are marked as
suspect.  In that case, the next time either is used, a warning is
displayed describing the conflict, why it might have occurred
(either the user generated a new key and failed to cross sign the
old and new keys, the key is forgery, or a man-in-the-middle attack
is being attempted), and the user is prompted to manually confirm
the validity of the key in question.

Because a potential attacker is able to control the email address
and thereby circumvent the conflict detection algorithm by using an
email address that is similar in appearance to a trusted email
address, whenever a message is verified, statistics about the number
of messages signed with the key are shown.  In this way, a user can
easily identify attacks using fake keys for regular correspondents.

When compared with the Web of Trust, TOFU offers significantly
weaker security guarantees.  In particular, TOFU only helps ensure
consistency (that is, that the binding between a key and email
address doesn't change).  A major advantage of TOFU is that it
requires little maintenance to use correctly.  To use the web of
trust properly, you need to actively sign keys and mark users as
trusted introducers.  This is a time-consuming process and anecdotal
evidence suggests that even security-conscious users rarely take the
time to do this thoroughly and instead rely on an ad-hoc TOFU
process.

In the TOFU model, policies are associated with bindings between
keys and email addresses (which are extracted from user ids and
normalized).  There are five policies, which can be set manually
using the <samp>--tofu-policy</samp> option.  The default policy can be
set using the <samp>--tofu-default-policy</samp> option.

The TOFU policies are: <samp>auto</samp>, <samp>good</samp>, <samp>unknown</samp>,
<samp>bad</samp> and <samp>ask</samp>.  The <samp>auto</samp> policy is used by
default (unless overridden by <samp>--tofu-default-policy</samp>) and
marks a binding as marginally trusted.  The <samp>good</samp>,
<samp>unknown</samp> and <samp>bad</samp> policies mark a binding as fully
trusted, as having unknown trust or as having trust never,
respectively.  The <samp>unknown</samp> policy is useful for just using
TOFU to detect conflicts, but to never assign positive trust to a
binding.  The final policy, <samp>ask</samp> prompts the user to indicate
the binding's trust.  If batch mode is enabled (or input is
inappropriate in the context), then the user is not prompted and the
<samp>undefined</samp> trust level is returned.

</li>
<li><span class="y2m-item">tofu+pgp</span>
This experimental trust model combines TOFU with the Web of Trust.
This is done
by computing the trust level for each model and then taking the
maximum trust level where the trust levels are ordered as follows:
<samp>unknown &lt; undefined &lt; marginal &lt; fully &lt; ultimate &lt; expired &lt;
never</samp>.

By setting <samp>--tofu-default-policy=unknown</samp>, this model can be
used to implement the web of trust with TOFU's conflict detection
algorithm, but without its assignment of positive trust values,
which some security-conscious users don't like.

</li>
<li><span class="y2m-item">direct</span>
Key validity is set directly by the user and not calculated via the
Web of Trust.  This model is solely based on the key and does
not distinguish user IDs.  Note that when changing to another trust
model the trust values assigned to a key are transformed into
ownertrust values, which also indicate how you trust the owner of
the key to sign other keys.

</li>
<li><span class="y2m-item">always</span>
Skip key validation and assume that used keys are always fully
valid. You generally won't use this unless you are using some
external validation scheme. This option also suppresses the
"[uncertain]" tag printed with signature checks when there is no
evidence that the user ID is bound to the key.  Note that this
trust model still does not allow the use of expired, revoked, or
disabled keys.

</li>
<li><span class="y2m-item">auto</span>
Select the trust model depending on whatever the internal trust
database says. This is the default model if such a database already
exists.  Note that a tofu trust model is not considered here and
must be enabled explicitly.
</li>
</ul>

<li><span class="y2m-item">--always-trust</span>
Identical to <samp>--trust-model always</samp>.

</li>
<li><span class="y2m-item">--assert-signer <span class="y2m-args"><u>fpr_or_file</u></span></span>
This option checks whether at least one valid signature on a file has
been made with the specified key.  The key is either specified as a
fingerprint or a file listing fingerprints.  The fingerprint must be
given or listed in compact format (no colons or spaces in between).
This option can be given multiple times and each fingerprint is
checked against the signing key as well as the corresponding primary
key.  If <u>fpr_or_file</u> specifies a file, empty lines are ignored
as well as all lines starting with a hash sign.  With this option gpg
is guaranteed to return with an exit code of 0 if and only if a
signature has been encountered, is valid, and the key matches one of
the fingerprints given by this option.

</li>
<li><span class="y2m-item">--assert-pubkey-algo <span class="y2m-args"><u>algolist</u></span></span>
During data signature verification this options checks whether the
used public key algorithm matches the algorithms given by
<u>algolist</u>.  This option can be given multiple times to
concatenate more algorithms to the list; the delimiter of the list are
either commas or spaces.

The algorithm names given in the list may either be verbatim names
like "ed25519" with an optional leading single equal sign, or being
prefixed with "&gt;", "&gt;=", "&lt;=", or "&lt;".  That prefix operator is
applied to the number part of the algorithm name; for example 2048 in
"rsa2048" or 384 in "brainpoolP384r1".  If the the leading non-digits
in the name matches, the prefix operator is used to compare the number
part, a trailing suffix is ignored in this case.  For example an
algorithm list "&gt;rsa3000, &gt;=brainpool384r1, =ed25519" allows RSA
signatures with more that 3000 bits, Brainpool curves 384 and 512,
and the ed25519 algorithm.

With this option gpg (and also gpgv) is guaranteed to return with an
exit code of 0 if and only if all valid signatures on data are made
using a matching algorithm from the given list.


</li>
<li><span class="y2m-item">--auto-key-locate <span class="y2m-args"><u>mechanisms</u></span></span>
    <span class="y2m-item">--no-auto-key-locate</span>
GnuPG can automatically locate and retrieve keys as needed using this
option.  This happens when encrypting to an email address (in the
"user@example.com" form), and there are no "user@example.com" keys
on the local keyring.  This option takes any number of the mechanisms
listed below, in the order they are to be tried.  Instead of listing
the mechanisms as comma delimited arguments, the option may also be
given several times to add more mechanism.  The option
<samp>--no-auto-key-locate</samp> or the mechanism "clear" resets the
list.  The default is "local,wkd".

</li>
<ul>

<li><span class="y2m-item">cert</span>
Locate a key using DNS CERT, as specified in RFC-4398.

</li>
<li><span class="y2m-item">dane</span>
Locate a key using DANE, as specified
in draft-ietf-dane-openpgpkey-05.txt.

</li>
<li><span class="y2m-item">wkd</span>
Locate a key using the Web Key Directory protocol.

</li>
<li><span class="y2m-item">ldap</span>
Locate the key using the configured LDAP servers.  This method is
similar to the <samp>keyserver</samp> mechanism but always uses only LDAP
servers.

</li>
<li><span class="y2m-item">ntds</span>
Locate the key using the Active Directory (Windows only).  This
method also allows one to search by fingerprint using the command
<samp>--locate-external-key</samp>.  Note that this mechanism is
actually a shortcut for the mechanism ldap using only
"ldap:///" as the keyserver.

</li>
<li><span class="y2m-item">keyserver</span>
Locate a key using a keyserver.  This method also allows one to search
by fingerprint using the command <samp>--locate-external-key</samp> if
any of the configured keyservers is an LDAP server.

</li>
<li><span class="y2m-item">keyserver-URL</span>
In addition, a keyserver URL as used in the <i>dirmngr</i>
configuration may be used here to query that particular keyserver.
This method also allows one to search by fingerprint using the command
<samp>--locate-external-key</samp> if the URL specifies an LDAP server.

</li>
<li><span class="y2m-item">local</span>
Locate the key using the local keyrings.  This mechanism allows the user to
select the order a local key lookup is done.  Thus using
--auto-key-locate local is identical to
<samp>--no-auto-key-locate</samp>.

</li>
<li><span class="y2m-item">nodefault</span>
This flag disables the standard local key lookup, done before any of the
mechanisms defined by the <samp>--auto-key-locate</samp> are tried.  The
position of this mechanism in the list does not matter.  It is not
required if <samp>local</samp> is also used.

</li>
<li><span class="y2m-item">clear</span>
Clear all defined mechanisms.  This is useful to override
mechanisms given in a config file.  Note that a <samp>nodefault</samp> in
<u>mechanisms</u> will also be cleared unless it is given after the
<samp>clear</samp>.

</li>
</ul>


<li><span class="y2m-item">--auto-key-import</span>
    <span class="y2m-item">--no-auto-key-import</span>
This is an offline mechanism to get a missing key for signature
verification and for later encryption to this key.  If this option is
enabled and a signature includes an embedded key, that key is
used to verify the signature and on verification success the key is
imported. The default is <samp>--no-auto-key-import</samp>.

On the sender (signing) site the option <samp>--include-key-block</samp>
needs to be used to put the public part of the signing key as “Key
Block subpacket” into the signature.

</li>
<li><span class="y2m-item">--auto-key-retrieve</span>
    <span class="y2m-item">--no-auto-key-retrieve</span>
These options enable or disable the automatic retrieving of keys from
a keyserver when verifying signatures made by keys that are not on the
local keyring.  The default is <samp>--no-auto-key-retrieve</samp>.

The order of methods tried to lookup the key is:

1. If the option <samp>--auto-key-import</samp> is set and the signatures
includes an embedded key, that key is used to verify the signature and
on verification success that key is imported.

2. If a preferred keyserver is specified in the signature and the
option <samp>honor-keyserver-url</samp> is active (which is not the
default), that keyserver is tried.  Note that the creator of the
signature uses the option <samp>--sig-keyserver-url</samp> to specify the
preferred keyserver for data signatures.

3. If the signature has the Signer's UID set (e.g., using
<samp>--sender</samp> while creating the signature) a Web Key Directory
(WKD) lookup is done.  This is the default configuration but can be
disabled by removing WKD from the auto-key-locate list or by using the
option <samp>--disable-signer-uid</samp>.

4. If any keyserver is configured and the Issuer Fingerprint is part
of the signature (since GnuPG 2.1.16), the configured keyservers are
tried.

Note that this option makes a "web bug" like behavior possible.
Keyserver or Web Key Directory operators can see which keys you
request, so by sending you a message signed by a brand new key (which
you naturally will not have on your local keyring), the operator can
tell both your IP address and the time when you verified the
signature.

</li>
<li><span class="y2m-item">--keyid-format <span class="y2m-args">{none|short|0xshort|long|0xlong}</span></span>
Select how to display key IDs.  "none" does not show the key ID at all
but shows the fingerprint in a separate line.  "short" is the
traditional 8-character key ID.  "long" is the more accurate (but less
convenient) 16-character key ID.  Add an "0x" to either to include an
"0x" at the beginning of the key ID, as in 0x99242560.  Note that this
option is ignored if the option <samp>--with-colons</samp> is used.

</li>
<li><span class="y2m-item">--keyserver <span class="y2m-args"><u>name</u></span></span>
This option is deprecated --- please use the <samp>--keyserver</samp> in
dirmngr.conf instead.

Use <u>name</u> as your keyserver. This is the server that
<samp>--receive-keys</samp>, <samp>--send-keys</samp>, and <samp>--search-keys</samp>
will communicate with to receive keys from, send keys to, and search for
keys on. The format of the <u>name</u> is a URI:
`scheme:[//]keyservername[:port]' The scheme is the type of keyserver:
"hkp"/"hkps" for the HTTP (or compatible) keyservers or "ldap"/"ldaps"
for the LDAP keyservers.  Note that your particular installation of
GnuPG may have other keyserver types available as well. Keyserver
schemes are case-insensitive.

Most keyservers synchronize with each other, so there is generally no
need to send keys to more than one server. The keyserver
<samp>hkp://keys.gnupg.net</samp> uses round robin DNS to give a different
keyserver each time you use it.

</li>
<li><span class="y2m-item">--keyserver-options <span class="y2m-args">{<u>name</u>=<u>value</u>}</span></span>
This is a space or comma delimited string that gives options for the
keyserver. Options can be prefixed with a `no-' to give the opposite
meaning. Valid import-options or export-options may be used here as
well to apply to importing (<samp>--recv-key</samp>) or exporting
(<samp>--send-key</samp>) a key from a keyserver. While not all options
are available for all keyserver types, some common options are:

</li>
<ul>

<li><span class="y2m-item">include-revoked</span>
When searching for a key with <samp>--search-keys</samp>, include keys that
are marked on the keyserver as revoked. Note that not all keyservers
differentiate between revoked and unrevoked keys, and for such
keyservers this option is meaningless. Note also that most keyservers do
not have cryptographic verification of key revocations, and so turning
this option off may result in skipping keys that are incorrectly marked
as revoked.

</li>
<li><span class="y2m-item">include-disabled</span>
When searching for a key with <samp>--search-keys</samp>, include keys that
are marked on the keyserver as disabled. Note that this option is not
used with HKP keyservers.

</li>
<li><span class="y2m-item">auto-key-retrieve</span>
This is an obsolete alias for the option <samp>auto-key-retrieve</samp>.
Please do not use it; it will be removed in future versions..

</li>
<li><span class="y2m-item">honor-keyserver-url</span>
When using <samp>--refresh-keys</samp>, if the key in question has a preferred
keyserver URL, then use that preferred keyserver to refresh the key
from. In addition, if auto-key-retrieve is set, and the signature
being verified has a preferred keyserver URL, then use that preferred
keyserver to fetch the key from. Note that this option introduces a
"web bug": The creator of the key can see when the keys is
refreshed.  Thus this option is not enabled by default.

</li>
<li><span class="y2m-item">include-subkeys</span>
When receiving a key, include subkeys as potential targets. Note that
this option is not used with HKP keyservers, as they do not support
retrieving keys by subkey id.

</li>
<li><span class="y2m-item">only-pubkeys</span>
Do not import secret keys.

</li>
<li><span class="y2m-item">timeout</span>
    <span class="y2m-item">http-proxy=@var{value}</span>
    <span class="y2m-item">verbose</span>
    <span class="y2m-item">debug</span>
    <span class="y2m-item">check-cert</span>
</li>
<li><span class="y2m-item">ca-cert-file</span>
These options have no more function since GnuPG 2.1.  Use the
<samp>dirmngr</samp> configuration options instead.

</li>
</ul>

The default list of options is: "self-sigs-only, import-clean,
repair-keys, repair-pks-subkey-bug, export-attributes". However, if
the actual used source is an LDAP server "no-self-sigs-only" is
assumed unless "self-sigs-only" has been explicitly configured.


<li><span class="y2m-item">--completes-needed <span class="y2m-args"><u>n</u></span></span>
Number of completely trusted users to introduce a new
key signer (defaults to 1).

</li>
<li><span class="y2m-item">--marginals-needed <span class="y2m-args"><u>n</u></span></span>
Number of marginally trusted users to introduce a new
key signer (defaults to 3)

</li>
<li><span class="y2m-item">--tofu-default-policy <span class="y2m-args">{auto|good|unknown|bad|ask}</span></span>
The default TOFU policy (defaults to <samp>auto</samp>).  For more
information about the meaning of this option, trust-model-tofu.

</li>
<li><span class="y2m-item">--max-cert-depth <span class="y2m-args"><u>n</u></span></span>
Maximum depth of a certification chain (default is 5).

</li>
<li><span class="y2m-item">--no-sig-cache</span>
Do not cache the verification status of key signatures.
Caching gives a much better performance in key listings. However, if
you suspect that your public keyring is not safe against write
modifications, you can use this option to disable the caching. It
probably does not make sense to disable it because all kind of damage
can be done if someone else has write access to your public keyring.

</li>
<li><span class="y2m-item">--auto-check-trustdb</span>
    <span class="y2m-item">--no-auto-check-trustdb</span>
If GnuPG feels that its information about the Web of Trust has to be
updated, it automatically runs the <samp>--check-trustdb</samp> command
internally.  This may be a time consuming
process. <samp>--no-auto-check-trustdb</samp> disables this option.

</li>
<li><span class="y2m-item">--use-agent</span>
    <span class="y2m-item">--no-use-agent</span>
This is dummy option. <i>gpg</i> always requires the agent.

</li>
<li><span class="y2m-item">--gpg-agent-info</span>
This is dummy option. It has no effect when used with <i>gpg</i>.


</li>
<li><span class="y2m-item">--agent-program <span class="y2m-args"><u>file</u></span></span>
Specify an agent program to be used for secret key operations.  The
default value is determined by running <i>gpgconf</i> with the
option <samp>--list-dirs</samp>.  Note that the pipe symbol (<samp>|</samp>) is
used for a regression test suite hack and may thus not be used in the
file name.

</li>
<li><span class="y2m-item">--dirmngr-program <span class="y2m-args"><u>file</u></span></span>
Specify a dirmngr program to be used for keyserver access.  The
default value is /home/itodoro/projects/ibm_meta_testing/ibmdir/gpgport/install/bin/dirmngr.

</li>
<li><span class="y2m-item">--disable-dirmngr</span>
Entirely disable the use of the Dirmngr.

</li>
<li><span class="y2m-item">--no-autostart</span>
Do not start the gpg-agent or the dirmngr if it has not yet been
started and its service is required.  This option is mostly useful on
machines where the connection to gpg-agent has been redirected to
another machines.  If dirmngr is required on the remote machine, it
may be started manually using <i>gpgconf --launch dirmngr</i>.

</li>
<li><span class="y2m-item">--lock-once</span>
Lock the databases the first time a lock is requested
and do not release the lock until the process
terminates.

</li>
<li><span class="y2m-item">--lock-multiple</span>
Release the locks every time a lock is no longer
needed. Use this to override a previous <samp>--lock-once</samp>
from a config file.

</li>
<li><span class="y2m-item">--lock-never</span>
Disable locking entirely. This option should be used only in very
special environments, where it can be assured that only one process
is accessing those files. A bootable floppy with a stand-alone
encryption system will probably use this. Improper usage of this
option may lead to data and key corruption.

</li>
<li><span class="y2m-item">--exit-on-status-write-error</span>
This option will cause write errors on the status FD to immediately
terminate the process. That should in fact be the default but it never
worked this way and thus we need an option to enable this, so that the
change won't break applications which close their end of a status fd
connected pipe too early. Using this option along with
<samp>--enable-progress-filter</samp> may be used to cleanly cancel long
running gpg operations.

</li>
<li><span class="y2m-item">--limit-card-insert-tries <span class="y2m-args"><u>n</u></span></span>
With <u>n</u> greater than 0 the number of prompts asking to insert a
smartcard gets limited to N-1. Thus with a value of 1 gpg won't at
all ask to insert a card if none has been inserted at startup. This
option is useful in the configuration file in case an application does
not know about the smartcard support and waits ad infinitum for an
inserted card.

</li>
<li><span class="y2m-item">--no-random-seed-file</span>
GnuPG uses a file to store its internal random pool over invocations.
This makes random generation faster; however sometimes write operations
are not desired. This option can be used to achieve that with the cost of
slower random generation.

</li>
<li><span class="y2m-item">--no-greeting</span>
Suppress the initial copyright message.

</li>
<li><span class="y2m-item">--no-secmem-warning</span>
Suppress the warning about "using insecure memory".

</li>
<li><span class="y2m-item">--no-permission-warning</span>
Suppress the warning about unsafe file and home directory (<samp>--homedir</samp>)
permissions. Note that the permission checks that GnuPG performs are
not intended to be authoritative, but rather they simply warn about
certain common permission problems. Do not assume that the lack of a
warning means that your system is secure.

Note that the warning for unsafe <samp>--homedir</samp> permissions cannot be
suppressed in the gpg.conf file, as this would allow an attacker to
place an unsafe gpg.conf file in place, and use this file to suppress
warnings about itself. The <samp>--homedir</samp> permissions warning may only be
suppressed on the command line.

</li>
<li><span class="y2m-item">--require-secmem</span>
    <span class="y2m-item">--no-require-secmem</span>
Refuse to run if GnuPG cannot get secure memory. Defaults to no
(i.e., run, but give a warning).


</li>
<li><span class="y2m-item">--require-cross-certification</span>
    <span class="y2m-item">--no-require-cross-certification</span>
When verifying a signature made from a subkey, ensure that the cross
certification "back signature" on the subkey is present and valid.  This
protects against a subtle attack against subkeys that can sign.
Defaults to <samp>--require-cross-certification</samp> for
<i>gpg</i>.

</li>
<li><span class="y2m-item">--expert</span>
    <span class="y2m-item">--no-expert</span>
Allow the user to do certain nonsensical or "silly" things like
signing an expired or revoked key, or certain potentially incompatible
things like generating unusual key types. This also disables certain
warning messages about potentially incompatible actions. As the name
implies, this option is for experts only. If you don't fully
understand the implications of what it allows you to do, leave this
off. <samp>--no-expert</samp> disables this option.

</li>
</ul>
</p>

<p>
</p>

<p>
<h3> Key related options</h3>
</p>

<p>
<ul>

<li><span class="y2m-item">--recipient <span class="y2m-args"><u>name</u></span></span>
    <span class="y2m-item">-r</span>
Encrypt for user id <u>name</u>. If this option or
<samp>--hidden-recipient</samp> is not specified, GnuPG asks for the user-id
unless <samp>--default-recipient</samp> is given.

</li>
<li><span class="y2m-item">--hidden-recipient <span class="y2m-args"><u>name</u></span></span>
    <span class="y2m-item">-R</span>
Encrypt for user ID <u>name</u>, but hide the key ID of this user's
key. This option helps to hide the receiver of the message and is a
limited countermeasure against traffic analysis. If this option or
<samp>--recipient</samp> is not specified, GnuPG asks for the user ID unless
<samp>--default-recipient</samp> is given.

</li>
<li><span class="y2m-item">--recipient-file <span class="y2m-args"><u>file</u></span></span>
    <span class="y2m-item">-f</span>
This option is similar to <samp>--recipient</samp> except that it
encrypts to a key stored in the given file.  <u>file</u> must be the
name of a file containing exactly one key.  <i>gpg</i> assumes that
the key in this file is fully valid.

</li>
<li><span class="y2m-item">--hidden-recipient-file <span class="y2m-args"><u>file</u></span></span>
    <span class="y2m-item">-F</span>
This option is similar to <samp>--hidden-recipient</samp> except that it
encrypts to a key stored in the given file.  <u>file</u> must be the
name of a file containing exactly one key.  <i>gpg</i> assumes that
the key in this file is fully valid.

</li>
<li><span class="y2m-item">--encrypt-to <span class="y2m-args"><u>name</u></span></span>
Same as <samp>--recipient</samp> but this one is intended for use in the
options file and may be used with your own user-id as an
"encrypt-to-self".  It is suggested to use a fingerprint or at least a
long keyID for <u>name</u>.  These keys are only used when there are
other recipients given either by use of <samp>--recipient</samp> or by the
asked user id.  No trust checking is performed for these user ids and
even disabled keys can be used.

</li>
<li><span class="y2m-item">--hidden-encrypt-to <span class="y2m-args"><u>name</u></span></span>
Same as <samp>--hidden-recipient</samp> but this one is intended for use
in the options file and may be used with your own user-id as a hidden
"encrypt-to-self".  It is suggested to use a fingerprint or at least a
long keyID for <u>name</u>.  These keys are only used when there are
other recipients given either by use of <samp>--recipient</samp> or by the
asked user id.  No trust checking is performed for these user ids and
even disabled keys can be used.

</li>
<li><span class="y2m-item">--no-encrypt-to</span>
Disable the use of all <samp>--encrypt-to</samp> and
<samp>--hidden-encrypt-to</samp> keys.

</li>
<li><span class="y2m-item">--group <span class="y2m-args">{<u>name</u>=<u>value</u>}</span></span>
Sets up a named group, which is similar to aliases in email programs.
Any time the group name is a recipient (<samp>-r</samp> or
<samp>--recipient</samp>), it will be expanded to the values
specified. Multiple groups with the same name are automatically merged
into a single group.

The values are <samp>key IDs</samp> or fingerprints, but any key description
is accepted. Note that a value with spaces in it will be treated as
two different values. Note also there is only one level of expansion
--- you cannot make an group that points to another group. When used
from the command line, it may be necessary to quote the argument to
this option to prevent the shell from treating it as multiple
arguments.

</li>
<li><span class="y2m-item">--ungroup <span class="y2m-args"><u>name</u></span></span>
Remove a given entry from the <samp>--group</samp> list.

</li>
<li><span class="y2m-item">--no-groups</span>
Remove all entries from the <samp>--group</samp> list.

</li>
<li><span class="y2m-item">--local-user <span class="y2m-args"><u>name</u></span></span>
    <span class="y2m-item">-u</span>
Use <u>name</u> as the key to sign with. Note that this option overrides
<samp>--default-key</samp>.

</li>
<li><span class="y2m-item">--sender <span class="y2m-args"><u>mbox</u></span></span>
This option has two purposes.  <u>mbox</u> must either be a complete
user ID containing a proper mail address or just a plain mail address.
The option can be given multiple times.

When creating a signature this option tells gpg the signing key's user
id used to make the signature and embeds that user ID into the created
signature (using OpenPGP's ``Signer's User ID'' subpacket).  If the
option is given multiple times a suitable user ID is picked.  However,
if the signing key was specified directly by using a mail address
(i.e., not by using a fingerprint or key ID) this option is used and
the mail address is embedded in the created signature.

When verifying a signature <u>mbox</u> is used to restrict the
information printed by the TOFU code to matching user IDs.  If the
option is used and the signature contains a ``Signer's User ID''
subpacket that information is is also used to restrict the printed
information.  Note that GnuPG considers only the mail address part of
a User ID.

If this option or the said subpacket is available the TRUST lines as
printed by option <samp>status-fd</samp> correspond to the corresponding
User ID; if no User ID is known the TRUST lines are computed directly
on the key and do not give any information about the User ID.  In the
latter case it his highly recommended to scripts and other frontends
to evaluate the VALIDSIG line, retrieve the key and print all User IDs
along with their validity (trust) information.


</li>
<li><span class="y2m-item">--try-secret-key <span class="y2m-args"><u>name</u></span></span>
For hidden recipients GPG needs to know the keys to use for trial
decryption.  The key set with <samp>--default-key</samp> is always tried
first, but this is often not sufficient.  This option allows setting more
keys to be used for trial decryption.  Although any valid user-id
specification may be used for <u>name</u> it makes sense to use at least
the long keyid to avoid ambiguities.  Note that gpg-agent might pop up a
pinentry for a lot keys to do the trial decryption.  If you want to stop
all further trial decryption you may use close-window button instead of
the cancel button.

</li>
<li><span class="y2m-item">--try-all-secrets</span>
Don't look at the key ID as stored in the message but try all secret
keys in turn to find the right decryption key. This option forces the
behaviour as used by anonymous recipients (created by using
<samp>--throw-keyids</samp> or <samp>--hidden-recipient</samp>) and might come
handy in case where an encrypted message contains a bogus key ID.

</li>
<li><span class="y2m-item">--skip-hidden-recipients</span>
    <span class="y2m-item">--no-skip-hidden-recipients</span>
During decryption skip all anonymous recipients.  This option helps in
the case that people use the hidden recipients feature to hide their
own encrypt-to key from others.  If one has many secret keys this
may lead to a major annoyance because all keys are tried in turn to
decrypt something which was not really intended for it.  The drawback
of this option is that it is currently not possible to decrypt a
message which includes real anonymous recipients.


</li>
</ul>
</p>

<p>
<h3> Input and Output</h3>
</p>

<p>
<ul>

<li><span class="y2m-item">--armor</span>
    <span class="y2m-item">-a</span>
Create ASCII armored output.  The default is to create the binary
OpenPGP format.

</li>
<li><span class="y2m-item">--no-armor</span>
Assume the input data is not in ASCII armored format.

</li>
<li><span class="y2m-item">--output <span class="y2m-args"><u>file</u></span></span>
    <span class="y2m-item">-o <span class="y2m-args"><u>file</u></span></span>
Write output to <u>file</u>.  To write to stdout use <samp>-</samp> as the
filename.

</li>
<li><span class="y2m-item">--max-output <span class="y2m-args"><u>n</u></span></span>
This option sets a limit on the number of bytes that will be generated
when processing a file. Since OpenPGP supports various levels of
compression, it is possible that the plaintext of a given message may be
significantly larger than the original OpenPGP message. While GnuPG
works properly with such messages, there is often a desire to set a
maximum file size that will be generated before processing is forced to
stop by the OS limits. Defaults to 0, which means "no limit".

</li>
<li><span class="y2m-item">--chunk-size <span class="y2m-args"><u>n</u></span></span>
The AEAD encryption mode encrypts the data in chunks so that a
receiving side can check for transmission errors or tampering at the
end of each chunk and does not need to delay this until all data has
been received.  The used chunk size is 2^<u>n</u> byte.  The lowest
allowed value for <u>n</u> is 6 (64 byte) and the largest is the
default of 22 which creates chunks not larger than 4 MiB.

</li>
<li><span class="y2m-item">--input-size-hint <span class="y2m-args"><u>n</u></span></span>
This option can be used to tell GPG the size of the input data in
bytes.  <u>n</u> must be a positive base-10 number.  This option is
only useful if the input is not taken from a file.  GPG may use this
hint to optimize its buffer allocation strategy.  It is also used by
the <samp>--status-fd</samp> line ``PROGRESS'' to provide a value for
``total'' if that is not available by other means.

</li>
<li><span class="y2m-item">--key-origin <span class="y2m-args"><u>string</u>[,<u>url</u>]</span></span>
gpg can track the origin of a key. Certain origins are implicitly
known (e.g., keyserver, web key directory) and set.  For a standard
import the origin of the keys imported can be set with this option.
To list the possible values use "help" for <u>string</u>.  Some origins
can store an optional <u>url</u> argument.  That URL can appended to
<u>string</u> after a comma.

</li>
<li><span class="y2m-item">--import-options <span class="y2m-args"><u>parameters</u></span></span>
This is a space or comma delimited string that gives options for
importing keys. Options can be prepended with a `no-' to give the
opposite meaning. The options are:

</li>
<ul>

<li><span class="y2m-item">import-local-sigs</span>
Allow importing key signatures marked as "local". This is not
generally useful unless a shared keyring scheme is being used.
Defaults to no.

</li>
<li><span class="y2m-item">keep-ownertrust</span>
Normally possible still existing ownertrust values of a key are
cleared if a key is imported.  This is in general desirable so that
a formerly deleted key does not automatically gain an ownertrust
values merely due to import.  On the other hand it is sometimes
necessary to re-import a trusted set of keys again but keeping
already assigned ownertrust values.  This can be achieved by using
this option.

</li>
<li><span class="y2m-item">repair-pks-subkey-bug</span>
During import, attempt to repair the damage caused by the PKS keyserver
bug (pre version 0.9.6) that mangles keys with multiple subkeys. Note
that this cannot completely repair the damaged key as some crucial data
is removed by the keyserver, but it does at least give you back one
subkey. Defaults to no for regular <samp>--import</samp> and to yes for
keyserver <samp>--receive-keys</samp>.

</li>
<li><span class="y2m-item">import-show</span>
    <span class="y2m-item">show-only</span>
Show a listing of the key as imported right before it is stored.
This can be combined with the option <samp>--dry-run</samp> to only look
at keys; the option <samp>show-only</samp> is a shortcut for this
combination.  The command <samp>--show-keys</samp> is another shortcut
for this.  Note that suffixes like '#' for "sec" and "sbb" lines
may or may not be printed.

</li>
<li><span class="y2m-item">import-export</span>
Run the entire import code but instead of storing the key to the
local keyring write it to the output.  The export option
<samp>export-dane</samp> affect the output.  This option can for example
be used to remove all invalid parts from a key without the
need to store it.

</li>
<li><span class="y2m-item">merge-only</span>
During import, allow key updates to existing keys, but do not allow
any new keys to be imported. Defaults to no.

</li>
<li><span class="y2m-item">import-clean</span>
After import, compact (remove all signatures except the
self-signature) any user IDs from the new key that are not usable.
Then, remove any signatures from the new key that are not usable.
This includes signatures that were issued by keys that are not present
on the keyring. This option is the same as running the <samp>--edit-key</samp>
command "clean" after import. Defaults to no.

</li>
<li><span class="y2m-item">self-sigs-only</span>
Accept only self-signatures while importing a key.  All other key
signatures are skipped at an early import stage.  This option can be
used with <samp>keyserver-options</samp> to mitigate attempts to flood a
key with bogus signatures from a keyserver.  The drawback is that
all other valid key signatures, as required by the Web of Trust are
also not imported.  Note that when using this option along with
import-clean it suppresses the final clean step after merging the
imported key into the existing key.

</li>
<li><span class="y2m-item">ignore-attributes</span>
Ignore all attribute user IDs (photo IDs) and their signatures while
importing a key.

</li>
<li><span class="y2m-item">repair-keys</span>
After import, fix various problems with the
keys.  For example, this reorders signatures, and strips duplicate
signatures.  Defaults to yes.

</li>
<li><span class="y2m-item">bulk-import</span>
When used the keyboxd (option <samp>use-keyboxd</samp> in common.conf)
does the import within a single
transaction.

</li>
<li><span class="y2m-item">import-minimal</span>
Import the smallest key possible. This removes all signatures except
the most recent self-signature on each user ID. This option is the
same as running the <samp>--edit-key</samp> command "minimize" after import.
Defaults to no.

</li>
<li><span class="y2m-item">restore</span>
    <span class="y2m-item">import-restore</span>
Import in key restore mode.  This imports all data which is usually
skipped during import; including all GnuPG specific data.  All other
contradicting options are overridden.
</li>
</ul>

<li><span class="y2m-item">--import-filter <span class="y2m-args">{<u>name</u>=<u>expr</u>}</span></span>
    <span class="y2m-item">--export-filter <span class="y2m-args">{<u>name</u>=<u>expr</u>}</span></span>
These options define an import/export filter which are applied to the
imported/exported keyblock right before it will be stored/written.
<u>name</u> defines the type of filter to use, <u>expr</u> the
expression to evaluate.  The option can be used several times which
then appends more expression to the same <u>name</u>.


The available filter types are:

</li>
<ul>

<li><span class="y2m-item">keep-uid</span>
This filter will keep a user id packet and its dependent packets in
the keyblock if the expression evaluates to true.

</li>
<li><span class="y2m-item">drop-subkey</span>
This filter drops the selected subkeys.
Currently only implemented for <samp>--export-filter</samp>.

</li>
<li><span class="y2m-item">drop-sig</span>
This filter drops the selected key signatures on user ids.
Self-signatures are not considered.
Currently only implemented for <samp>--import-filter</samp>.

</li>
<li><span class="y2m-item">select</span>
This filter is only implemented by <samp>--list-filter</samp>.  All
property names may be used.

</li>
</ul>

For the syntax of the expression see the chapter "FILTER EXPRESSIONS".
The property names for the expressions depend on the actual filter
type and are indicated in the following table.  Note that all property
names may also be used by <samp>--list-filter</samp>.

Property names may be prefix with a scope delimited by a slash.  Valid
scopes are "pub" for public and secret primary keys, "sub" for public
and secret subkeys, "uid" for for user-ID packets, and "sig" for
signature packets.  Invalid scopes are currently ignored.

The available properties are:

<ul>

<li><span class="y2m-item">uid</span>
A string with the user id.  (keep-uid)

</li>
<li><span class="y2m-item">mbox</span>
The addr-spec part of a user id with mailbox or the empty string.
(keep-uid)

</li>
<li><span class="y2m-item">algostr</span>
A string with the key algorithm description.  For example "rsa3072"
or "ed25519".

</li>
<li><span class="y2m-item">key_algo</span>
A number with the public key algorithm of a key or subkey packet.
(drop-subkey)

</li>
<li><span class="y2m-item">key_size</span>
A number with the effective key size of a key or subkey packet.
(drop-subkey)

</li>
<li><span class="y2m-item">key_created</span>
    <span class="y2m-item">key_created_d</span>
The first is the timestamp a public key or subkey packet was
created.  The second is the same but given as an ISO string,
e.g., "2016-08-17". (drop-subkey)

</li>
<li><span class="y2m-item">key_expires</span>
    <span class="y2m-item">key_expires_d</span>
The expiration time of a public key or subkey or 0 if it does not
expire.  The second is the same but given as an ISO date string or
an empty string e.g., "2038-01-19".

</li>
<li><span class="y2m-item">fpr</span>
The hexified fingerprint of the current subkey or primary key.
(drop-subkey)

</li>
<li><span class="y2m-item">primary</span>
Boolean indicating whether the user id is the primary one.  (keep-uid)

</li>
<li><span class="y2m-item">expired</span>
Boolean indicating whether a user id (keep-uid), a key (drop-subkey), or a
signature (drop-sig) expired.

</li>
<li><span class="y2m-item">revoked</span>
Boolean indicating whether a user id (keep-uid) or a key (drop-subkey) has
been revoked.

</li>
<li><span class="y2m-item">disabled</span>
Boolean indicating whether a primary key is disabled.

</li>
<li><span class="y2m-item">secret</span>
Boolean indicating whether a key or subkey is a secret one.
(drop-subkey)

</li>
<li><span class="y2m-item">usage</span>
A string indicating the usage flags for the subkey, from the
sequence ``ecsa?''.  For example, a subkey capable of just signing
and authentication would be an exact match for ``sa''. (drop-subkey)

</li>
<li><span class="y2m-item">sig_created</span>
    <span class="y2m-item">sig_created_d</span>
The first is the timestamp a signature packet was created.  The
second is the same but given as an ISO date string,
e.g., "2016-08-17". (drop-sig)

</li>
<li><span class="y2m-item">sig_expires</span>
    <span class="y2m-item">sig_expires_d</span>
The expiration time of a signature packet or 0 if it does not
expire.  The second is the same but given as an ISO date string or
an empty string e.g. "2038-01-19".

</li>
<li><span class="y2m-item">sig_algo</span>
A number with the public key algorithm of a signature packet. (drop-sig)

</li>
<li><span class="y2m-item">sig_digest_algo</span>
A number with the digest algorithm of a signature packet. (drop-sig)

</li>
<li><span class="y2m-item">origin</span>
A string with the key origin or a question mark.  For example the
string ``wkd'' is used if a key originated from a Web Key Directory
lookup.

</li>
<li><span class="y2m-item">lastupd</span>
The timestamp the key was last updated from a keyserver or the Web
Key Directory.

</li>
<li><span class="y2m-item">url</span>
A string with the the URL associated with the last key lookup.

</li>
</ul>

<li><span class="y2m-item">--export-options <span class="y2m-args"><u>parameters</u></span></span>
This is a space or comma delimited string that gives options for
exporting keys.  Options can be prepended with a `no-' to give the
opposite meaning.  The options are:

</li>
<ul>

<li><span class="y2m-item">export-local-sigs</span>
Allow exporting key signatures marked as "local". This is not
generally useful unless a shared keyring scheme is being used.
Defaults to no.

</li>
<li><span class="y2m-item">export-attributes</span>
Include attribute user IDs (photo IDs) while exporting. Not
including attribute user IDs is useful to export keys that are going
to be used by an OpenPGP program that does not accept attribute user
IDs.  Defaults to yes.

</li>
<li><span class="y2m-item">export-sensitive-revkeys</span>
Include designated revoker information that was marked as
"sensitive". Defaults to no.


</li>
<li><span class="y2m-item">backup</span>
    <span class="y2m-item">export-backup</span>
Export for use as a backup.  The exported data includes all data
which is needed to restore the key or keys later with GnuPG.  The
format is basically the OpenPGP format but enhanced with GnuPG
specific data.  All other contradicting options are overridden.

</li>
<li><span class="y2m-item">export-clean</span>
Compact (remove all signatures from) user IDs on the key being
exported if the user IDs are not usable. Also, do not export any
signatures that are not usable. This includes signatures that were
issued by keys that are not present on the keyring. This option is
the same as running the <samp>--edit-key</samp> command "clean" before export
except that the local copy of the key is not modified. Defaults to
no.

</li>
<li><span class="y2m-item">export-minimal</span>
Export the smallest key possible. This removes all signatures except the
most recent self-signature on each user ID. This option is the same as
running the <samp>--edit-key</samp> command "minimize" before export except
that the local copy of the key is not modified. Defaults to no.

</li>
<li><span class="y2m-item">export-revocs</span>
Export only standalone revocation certificates of the key.  This
option does not export revocations of 3rd party certificate
revocations.

</li>
<li><span class="y2m-item">export-dane</span>
Instead of outputting the key material output OpenPGP DANE records
suitable to put into DNS zone files.  An ORIGIN line is printed before
each record to allow diverting the records to the corresponding zone
file.

</li>
<li><span class="y2m-item">mode1003</span>
Enable the use of a new secret key export format.  This format
avoids the re-encryption as required with the current OpenPGP format
and also improves the security of the secret key if it has been
protected with a passphrase.  Note that an unprotected key is
exported as-is and thus not secure; the general rule to convey
secret keys in an OpenPGP encrypted file still applies with this
mode.  Versions of GnuPG before 2.4.0 are not able to import such a
secret file.

</li>
</ul>

<li><span class="y2m-item">--with-colons</span>
Print key listings delimited by colons. Note that the output will be
encoded in UTF-8 regardless of any <samp>--display-charset</samp> setting. This
format is useful when GnuPG is called from scripts and other programs
as it is easily machine parsed. The details of this format are
documented in the file doc/DETAILS, which is included in the GnuPG
source distribution.

</li>
<li><span class="y2m-item">--fixed-list-mode</span>
Do not merge primary user ID and primary key in <samp>--with-colon</samp>
listing mode and print all timestamps as seconds since 1970-01-01.
Since GnuPG 2.0.10, this mode is always used and thus this option is
obsolete; it does not harm to use it though.

</li>
<li><span class="y2m-item">--legacy-list-mode</span>
Revert to the pre-2.1 public key list mode.  This only affects the
human readable output and not the machine interface
(i.e., <samp>--with-colons</samp>).  Note that the legacy format does not
convey suitable information for elliptic curves.

</li>
<li><span class="y2m-item">--with-fingerprint</span>
Same as the command <samp>--fingerprint</samp> but changes only the format
of the output and may be used together with another command.

</li>
<li><span class="y2m-item">--with-subkey-fingerprint</span>
    <span class="y2m-item">--without-subkey-fingerprint</span>
If a fingerprint is printed for the primary key, this option forces
printing of the fingerprint for all subkeys.  This could also be
achieved by using the <samp>--with-fingerprint</samp> twice but by using
this option along with the default keyid-format "none" a compact
fingerprint is printed.  Since version 2.6.0 this option is active by
default; use the ``without'' variant to disable it.

</li>
<li><span class="y2m-item">--with-v5-fingerprint</span>
In a colon mode listing emit "fp2" lines for version 4 OpenPGP keys
having a v5 style fingerprint of the key.

</li>
<li><span class="y2m-item">--with-icao-spelling</span>
Print the ICAO spelling of the fingerprint in addition to the hex digits.

</li>
<li><span class="y2m-item">--with-keygrip</span>
Include the keygrip in the key listings.  In <samp>--with-colons</samp> mode
this is implicitly enable for secret keys.

</li>
<li><span class="y2m-item">--with-key-origin</span>
Include the locally held information on the origin and last update of
a key in a key listing.  In <samp>--with-colons</samp> mode this is always
printed.  This data is currently experimental and shall not be
considered part of the stable API.

</li>
<li><span class="y2m-item">--with-wkd-hash</span>
Print a Web Key Directory identifier along with each user ID in key
listings.  This is an experimental feature and semantics may change.

</li>
<li><span class="y2m-item">--with-secret</span>
Include info about the presence of a secret key in public key listings
done with <samp>--with-colons</samp>.

</li>
</ul>
</p>

<p>
<h3> OpenPGP protocol specific options</h3>
</p>

<p>
<ul>

<li><span class="y2m-item">--force-ocb</span>
    <span class="y2m-item">--force-aead</span>
Force the use of AEAD encryption over MDC encryption.  AEAD is a
modern and faster way to do authenticated encryption than the old MDC
method.  <samp>--force-aead</samp> is an alias and deprecated.  See also
option <samp>--chunk-size</samp>.

</li>
<li><span class="y2m-item">--force-mdc</span>
    <span class="y2m-item">--disable-mdc</span>
These options are obsolete and have no effect since GnuPG 2.2.8.  The
MDC is always used unless the keys indicate that an AEAD algorithm can
be used in which case AEAD is used.  But note: If the creation of a
legacy non-MDC message is exceptionally required, the option
<samp>--rfc2440</samp> allows for this.

</li>
<li><span class="y2m-item">--disable-signer-uid</span>
By default the user ID of the signing key is embedded in the data signature.
As of now this is only done if the signing key has been specified with
<samp>local-user</samp> using a mail address, or with <samp>sender</samp>.  This
information can be helpful for verifier to locate the key; see option
<samp>--auto-key-retrieve</samp>.

</li>
<li><span class="y2m-item">--include-key-block</span>
    <span class="y2m-item">--no-include-key-block</span>
This option is used to embed the actual signing key into a data
signature.  The embedded key is stripped down to a single user id and
includes only the signing subkey used to create the signature as well
as as valid encryption subkeys.  All other info is removed from the
key to keep it and thus the signature small.  This option is the
OpenPGP counterpart to the <i>gpgsm</i> option
<samp>--include-certs</samp> and allows the recipient of a signed message
to reply encrypted to the sender without using any online directories
to lookup the key.  The default is <samp>--no-include-key-block</samp>.
See also the option <samp>--auto-key-import</samp>.

</li>
<li><span class="y2m-item">--personal-cipher-preferences <span class="y2m-args"><u>string</u></span></span>
Set the list of personal cipher preferences to <u>string</u>.  Use
<i>gpg --version</i> to get a list of available algorithms,
and use <samp>none</samp> to set no preference at all.  This allows the user
to safely override the algorithm chosen by the recipient key
preferences, as GPG will only select an algorithm that is usable by
all recipients.  The most highly ranked cipher in this list is also
used for the <samp>--symmetric</samp> encryption command.

</li>
<li><span class="y2m-item">--personal-digest-preferences <span class="y2m-args"><u>string</u></span></span>
Set the list of personal digest preferences to <u>string</u>.  Use
<i>gpg --version</i> to get a list of available algorithms,
and use <samp>none</samp> to set no preference at all.  This allows the user
to safely override the algorithm chosen by the recipient key
preferences, as GPG will only select an algorithm that is usable by
all recipients.  The most highly ranked digest algorithm in this list
is also used when signing without encryption
(e.g., <samp>--clear-sign</samp> or <samp>--sign</samp>).

</li>
<li><span class="y2m-item">--personal-compress-preferences <span class="y2m-args"><u>string</u></span></span>
Set the list of personal compression preferences to <u>string</u>.
Use <i>gpg --version</i> to get a list of available
algorithms, and use <samp>none</samp> to set no preference at all.  This
allows the user to safely override the algorithm chosen by the
recipient key preferences, as GPG will only select an algorithm that
is usable by all recipients.  The most highly ranked compression
algorithm in this list is also used when there are no recipient keys
to consider (e.g., <samp>--symmetric</samp>).

</li>
<li><span class="y2m-item">--s2k-cipher-algo <span class="y2m-args"><u>name</u></span></span>
Use <u>name</u> as the cipher algorithm for symmetric encryption with
a passphrase if <samp>--personal-cipher-preferences</samp> and
<samp>--cipher-algo</samp> are not given.  The default is AES-128.

</li>
<li><span class="y2m-item">--s2k-digest-algo <span class="y2m-args"><u>name</u></span></span>
Use <u>name</u> as the digest algorithm used to mangle the passphrases
for symmetric encryption.  The default is SHA-1.

</li>
<li><span class="y2m-item">--s2k-mode <span class="y2m-args"><u>n</u></span></span>
Selects how passphrases for symmetric encryption are mangled. If
<u>n</u> is 0 a plain passphrase (which is in general not recommended)
will be used, a 1 adds a salt (which should not be used) to the
passphrase and a 3 (the default) iterates the whole process a number
of times (see <samp>--s2k-count</samp>).

</li>
<li><span class="y2m-item">--s2k-count <span class="y2m-args"><u>n</u></span></span>
Specify how many times the passphrases mangling for symmetric
encryption is repeated.  This value may range between 1024 and
65011712 inclusive.  The default is inquired from gpg-agent.  Note
that not all values in the 1024--65011712 range are legal and if an
illegal value is selected, GnuPG will round up to the nearest legal
value.  This option is only meaningful if <samp>--s2k-mode</samp> is set
to the default of 3.


</li>
</ul>
</p>

<p>
<h3> Compliance options</h3>
</p>

<p>
These options control what GnuPG is compliant to. Only one of these
options may be active at a time. Note that the default setting of
this is nearly always the correct one. See the INTEROPERABILITY WITH
OTHER OPENPGP PROGRAMS section below before using one of these
options.
</p>

<p>
<ul>

<li><span class="y2m-item">--gnupg</span>
Use standard GnuPG behavior. This is essentially OpenPGP behavior (see
<samp>--openpgp</samp>), but with extension from the proposed update to
OpenPGP and with some additional workarounds for common compatibility
problems in different versions of PGP.  This is the default option, so
it is not generally needed, but it may be useful to override a
different compliance option in the gpg.conf file.

</li>
<li><span class="y2m-item">--openpgp</span>
Reset all packet, cipher and digest options to strict OpenPGP
behavior.  This option implies <samp>--allow-old-cipher-algos</samp>.  Use
this option to reset all previous options like <samp>--s2k-*</samp>,
<samp>--cipher-algo</samp>, <samp>--digest-algo</samp> and
<samp>--compress-algo</samp> to OpenPGP compliant values. All PGP
workarounds are disabled.

</li>
<li><span class="y2m-item">--rfc4880</span>
Reset all packet, cipher and digest options to strict RFC-4880
behavior.  This option implies <samp>--allow-old-cipher-algos</samp>.
Note that this is currently the same thing as <samp>--openpgp</samp>.

</li>
<li><span class="y2m-item">--rfc4880bis</span>
Reset all packet, cipher and digest options to strict according to the
proposed updates of RFC-4880.

</li>
<li><span class="y2m-item">--rfc2440</span>
Reset all packet, cipher and digest options to strict RFC-2440
behavior.  Note that by using this option encryption packets are
created in a legacy mode without MDC protection.  This is dangerous
and should thus only be used for experiments.  This option implies
<samp>--allow-old-cipher-algos</samp>.  See also option
<samp>--ignore-mdc-error</samp>.

</li>
<li><span class="y2m-item">--pgp6</span>
This option is obsolete; it is handled as an alias for <samp>--pgp7</samp>

</li>
<li><span class="y2m-item">--pgp7</span>
Set up all options to be as PGP 7 compliant as possible. This allowed
the ciphers IDEA, 3DES, CAST5,AES128, AES192, AES256, and TWOFISH.,
the hashes MD5, SHA1 and RIPEMD160, and the compression algorithms
none and ZIP.  This option implies <samp>--escape-from-lines</samp> and
disables <samp>--throw-keyids</samp>,

</li>
<li><span class="y2m-item">--pgp8</span>
Set up all options to be as PGP 8 compliant as possible. PGP 8 is a lot
closer to the OpenPGP standard than previous versions of PGP, so all
this does is disable <samp>--throw-keyids</samp> and set
<samp>--escape-from-lines</samp>.  All algorithms are allowed except for the
SHA224, SHA384, and SHA512 digests.

</li>
<li><span class="y2m-item">--compliance <span class="y2m-args"><u>string</u></span></span>
This option can be used instead of one of the options above.  Valid
values for <u>string</u> are the above option names (without the double
dash) and possibly others as shown when using "help" for <u>string</u>.

</li>
<li><span class="y2m-item">--min-rsa-length <span class="y2m-args"><u>n</u></span></span>
This option adjusts the compliance mode "de-vs" for stricter key size
requirements.  For example, a value of 3000 turns rsa2048 and dsa2048
keys into non-VS-NfD compliant keys.

</li>
<li><span class="y2m-item">--require-pqc-encryption</span>
This option forces the use of quantum-resistant encryption algorithms.
If not all public keys are quantum-resistant the encryption will fail.
On decryption a warning is printed for all non-quantum-resistant keys.
As of now the Kyber (ML-KEM768 and ML-KEM1024) algorithms are
considered quantum-resistant; Kyber is always used in a composite
scheme along with a classic ECC algorithm.

</li>
<li><span class="y2m-item">--require-compliance</span>
To check that data has been encrypted according to the rules of the
current compliance mode, a gpg user needs to evaluate the status
lines.  This is allows frontends to handle compliance check in a more
flexible way.  However, for scripted use the required evaluation of
the status-line requires quite some effort; this option can be used
instead to make sure that the gpg process exits with a failure if the
compliance rules are not fulfilled.  Note that this option has
currently an effect only in "de-vs" mode.

</li>
</ul>
</p>

<p>
</p>

<p>
<h3> Doing things one usually doesn't want to do</h3>
</p>

<p>
<ul>

<li><span class="y2m-item">-n</span>
    <span class="y2m-item">--dry-run</span>
Don't make any changes (this is not completely implemented).

</li>
<li><span class="y2m-item">--list-only</span>
Changes the behaviour of some commands. This is like <samp>--dry-run</samp> but
different in some cases. The semantic of this option may be extended in
the future. Currently it only skips the actual decryption pass and
therefore enables a fast listing of the encryption keys.

</li>
<li><span class="y2m-item">-i</span>
    <span class="y2m-item">--interactive</span>
Prompt before overwriting any files.

</li>
<li><span class="y2m-item">--compatibility-flags <span class="y2m-args"><u>flags</u></span></span>
Set compatibility flags to work around problems due to non-compliant
keys or data.  The <u>flags</u> are given as a comma separated
list of flag names and are OR-ed together.  The special flag "none"
clears the list and allows one to start over with an empty list.  To get a
list of available flags the sole word "help" can be used.

</li>
<li><span class="y2m-item">--debug-level <span class="y2m-args"><u>level</u></span></span>
Select the debug level for investigating problems. <u>level</u> may be
a numeric value or by a keyword:

</li>
<ul>
<li><span class="y2m-item">none</span>
No debugging at all.  A value of less than 1 may be used instead of
the keyword.
</li>
<li><span class="y2m-item">basic</span>
Some basic debug messages.  A value between 1 and 2 may be used
instead of the keyword.
</li>
<li><span class="y2m-item">advanced</span>
More verbose debug messages.  A value between 3 and 5 may be used
instead of the keyword.
</li>
<li><span class="y2m-item">expert</span>
Even more detailed messages.  A value between 6 and 8 may be used
instead of the keyword.
</li>
<li><span class="y2m-item">guru</span>
All of the debug messages you can get. A value greater than 8 may be
used instead of the keyword.  The creation of hash tracing files is
only enabled if the keyword is used.
</li>
</ul>

How these messages are mapped to the actual debugging flags is not
specified and may change with newer releases of this program. They are
however carefully selected to best aid in debugging.

<li><span class="y2m-item">--debug <span class="y2m-args"><u>flags</u></span></span>
Set debug flags.  All flags are or-ed and <u>flags</u> may be given
in C syntax (e.g., 0x0042) or as a comma separated list of flag names.
To get a list of all supported flags the single word "help" can be
used. This option is only useful for debugging and the behavior may
change at any time without notice.

</li>
<li><span class="y2m-item">--debug-all</span>
Set all useful debugging flags.

</li>
<li><span class="y2m-item">--debug-iolbf</span>
Set stdout into line buffered mode.  This option is only honored when
given on the command line.

</li>
<li><span class="y2m-item">--debug-set-iobuf-size <span class="y2m-args"><u>n</u></span></span>
Change the buffer size of the IOBUFs to <u>n</u> kilobyte.  Using 0
prints the current size.  Note well: This is a maintainer only option
and may thus be changed or removed at any time without notice.

</li>
<li><span class="y2m-item">--debug-allow-large-chunks</span>
To facilitate software tests and experiments this option allows one to
specify a limit of up to 4 EiB (<samp>--chunk-size 62</samp>).

</li>
<li><span class="y2m-item">--debug-ignore-expiration</span>
This option tries to override certain key expiration dates.  It is
only useful for certain regression tests.

</li>
<li><span class="y2m-item">--faked-system-time <span class="y2m-args"><u>epoch</u></span></span>
This option is only useful for testing; it sets the system time back
or forth to <u>epoch</u> which is the number of seconds elapsed since
the year 1970.  Alternatively <u>epoch</u> may be given as a full ISO
time string (e.g., "20070924T154812").

If you suffix <u>epoch</u> with an exclamation mark (!), the system time
will appear to be frozen at the specified time.

</li>
<li><span class="y2m-item">--full-timestrings</span>
Change the format of printed creation and expiration times from just
the date to the date and time.  This is in general not useful and the
same information is anyway available in <samp>--with-colons</samp> mode.
These longer strings are also not well aligned with other printed
data.

</li>
<li><span class="y2m-item">--enable-progress-filter</span>
Enable certain PROGRESS status outputs. This option allows frontends
to display a progress indicator while gpg is processing larger files.
There is a slight performance overhead using it.

</li>
<li><span class="y2m-item">--status-fd <span class="y2m-args"><u>n</u></span></span>
Write special status strings to the file descriptor <u>n</u>.
See the file DETAILS in the documentation for a listing of them.

</li>
<li><span class="y2m-item">--status-file <span class="y2m-args"><u>file</u></span></span>
Same as <samp>--status-fd</samp>, except the status data is written to file
<u>file</u>.

</li>
<li><span class="y2m-item">--logger-fd <span class="y2m-args"><u>n</u></span></span>
Write log output to file descriptor <u>n</u> and not to STDERR.

</li>
<li><span class="y2m-item">--log-file <span class="y2m-args"><u>file</u></span></span>
    <span class="y2m-item">--logger-file <span class="y2m-args"><u>file</u></span></span>
Same as <samp>--logger-fd</samp>, except the logger data is written to
file <u>file</u>.  Use socket:// to log to s socket.

</li>
<li><span class="y2m-item">--log-time</span>
Prefix all log output with a timestamp even if no log file is used.

</li>
<li><span class="y2m-item">--attribute-fd <span class="y2m-args"><u>n</u></span></span>
Write attribute subpackets to the file descriptor <u>n</u>. This is most
useful for use with <samp>--status-fd</samp>, since the status messages are
needed to separate out the various subpackets from the stream delivered
to the file descriptor.

</li>
<li><span class="y2m-item">--attribute-file <span class="y2m-args"><u>file</u></span></span>
Same as <samp>--attribute-fd</samp>, except the attribute data is written to
file <u>file</u>.

</li>
<li><span class="y2m-item">--comment <span class="y2m-args"><u>string</u></span></span>
    <span class="y2m-item">--no-comments</span>
Use <u>string</u> as a comment string in cleartext signatures and ASCII
armored messages or keys (see <samp>--armor</samp>). The default behavior is
not to use a comment string. <samp>--comment</samp> may be repeated multiple
times to get multiple comment strings. <samp>--no-comments</samp> removes
all comments.  It is a good idea to keep the length of a single comment
below 60 characters to avoid problems with mail programs wrapping such
lines.  Note that comment lines, like all other header lines, are not
protected by the signature.

</li>
<li><span class="y2m-item">--emit-version</span>
    <span class="y2m-item">--no-emit-version</span>
Force inclusion of the version string in ASCII armored output.  If
given once only the name of the program and the major number is
emitted, given twice the minor is also emitted, given thrice
the micro is added, and given four times an operating system identification
is also emitted.  <samp>--no-emit-version</samp> (default) disables the version
line.

</li>
<li><span class="y2m-item">--sig-notation <span class="y2m-args">{<u>name</u>=<u>value</u>}</span></span>
    <span class="y2m-item">--cert-notation <span class="y2m-args">{<u>name</u>=<u>value</u>}</span></span>
    <span class="y2m-item">-N, <span class="y2m-args">--set-notation {<u>name</u>=<u>value</u>}</span></span>
Put the name value pair into the signature as notation data.
<u>name</u> must consist only of printable characters or spaces, and
must contain a '@' character in the form keyname@domain.example.com
(substituting the appropriate keyname and domain name, of course).  This
is to help prevent pollution of the IETF reserved notation
namespace. The <samp>--expert</samp> flag overrides the '@'
check. <u>value</u> may be any printable string; it will be encoded in
UTF-8, so you should check that your <samp>--display-charset</samp> is set
correctly. If you prefix <u>name</u> with an exclamation mark (!), the
notation data will be flagged as critical
(rfc4880:5.2.3.16). <samp>--sig-notation</samp> sets a notation for data
signatures. <samp>--cert-notation</samp> sets a notation for key signatures
(certifications). <samp>--set-notation</samp> sets both.

There are special codes that may be used in notation names. "%k" will
be expanded into the key ID of the key being signed, "%K" into the
long key ID of the key being signed, "%f" into the fingerprint of the
key being signed, "%s" into the key ID of the key making the
signature, "%S" into the long key ID of the key making the signature,
"%g" into the fingerprint of the key making the signature (which might
be a subkey), "%p" into the fingerprint of the primary key of the key
making the signature, "%c" into the signature count from the OpenPGP
smartcard, and "%%" results in a single "%". %k, %K, and %f are only
meaningful when making a key signature (certification), and %c is only
meaningful when using the OpenPGP smartcard.

</li>
<li><span class="y2m-item">--known-notation <span class="y2m-args"><u>name</u></span></span>
Adds <u>name</u> to a list of known critical signature notations.  The
effect of this is that gpg will not mark a signature with a critical
signature notation of that name as bad.  Note that gpg already knows
by default about a few critical signatures notation names.

</li>
<li><span class="y2m-item">--sig-policy-url <span class="y2m-args"><u>string</u></span></span>
    <span class="y2m-item">--cert-policy-url <span class="y2m-args"><u>string</u></span></span>
    <span class="y2m-item">--set-policy-url <span class="y2m-args"><u>string</u></span></span>
Use <u>string</u> as a Policy URL for signatures (rfc4880:5.2.3.20).  If
you prefix it with an exclamation mark (!), the policy URL packet will
be flagged as critical. <samp>--sig-policy-url</samp> sets a policy url for
data signatures. <samp>--cert-policy-url</samp> sets a policy url for key
signatures (certifications). <samp>--set-policy-url</samp> sets both.

The same %-expandos used for notation data are available here as well.

</li>
<li><span class="y2m-item">--sig-keyserver-url <span class="y2m-args"><u>string</u></span></span>
Use <u>string</u> as a preferred keyserver URL for data signatures. If
you prefix it with an exclamation mark (!), the keyserver URL packet
will be flagged as critical.

The same %-expandos used for notation data are available here as well.

</li>
<li><span class="y2m-item">--set-filename <span class="y2m-args"><u>string</u></span></span>
Use <u>string</u> as the filename which is stored inside messages.
This overrides the default, which is to use the actual filename of the
file being encrypted.  Using the empty string for <u>string</u>
effectively removes the filename from the output.

</li>
<li><span class="y2m-item">--for-your-eyes-only</span>
    <span class="y2m-item">--no-for-your-eyes-only</span>
Set the `for your eyes only' flag in the message. This causes GnuPG to
refuse to save the file unless the <samp>--output</samp> option is given,
and PGP to use a "secure viewer" with a claimed Tempest-resistant font
to display the message. This option overrides <samp>--set-filename</samp>.
<samp>--no-for-your-eyes-only</samp> disables this option.

</li>
<li><span class="y2m-item">--use-embedded-filename</span>
    <span class="y2m-item">--no-use-embedded-filename</span>
Try to create a file with a name as embedded in the data. This can be
a dangerous option as it enables overwriting files by giving the
sender control on how to store files.  Defaults to no.
Note that the option <samp>--output</samp> overrides this option.

A better approach than using this option is to decrypt to a temporary
filename and then rename that file to the embedded file name after
checking that the embedded filename is harmless.  When using the
<samp>--status-fd</samp> option gpg tells the filename as part of the
PLAINTEXT status message.  If the filename is important, the use of
<i>gpgtar</i> is another option because gpgtar will never overwrite
a file but decrypt the files to a new directory.

Note also that unless a modern version 5 signature is used the
embedded filename is not part of the signed data.



</li>
<li><span class="y2m-item">--cipher-algo <span class="y2m-args"><u>name</u></span></span>
Use <u>name</u> as cipher algorithm. Running the program with the
command <samp>--version</samp> yields a list of supported algorithms. If
this is not used the cipher algorithm is selected from the preferences
stored with the key. In general, you do not want to use this option as
it allows you to violate the OpenPGP standard.  The option
<samp>--personal-cipher-preferences</samp> is the safe way to accomplish the
same thing.

</li>
<li><span class="y2m-item">--digest-algo <span class="y2m-args"><u>name</u></span></span>
Use <u>name</u> as the message digest algorithm. Running the program
with the command <samp>--version</samp> yields a list of supported
algorithms. In general, you do not want to use this option as it
allows you to violate the OpenPGP standard.  The option
<samp>--personal-digest-preferences</samp> is the safe way to accomplish
the same thing.

</li>
<li><span class="y2m-item">--compress-algo <span class="y2m-args"><u>name</u></span></span>
Use compression algorithm <u>name</u>. "zlib" is RFC-1950 ZLIB
compression. "zip" is RFC-1951 ZIP compression which is used by PGP.
"bzip2" is a more modern compression scheme that can compress some
things better than zip or zlib, but at the cost of more memory used
during compression and decompression. "uncompressed" or "none"
disables compression. If this option is not used, the default
behavior is to examine the recipient key preferences to see which
algorithms the recipient supports. If all else fails, ZIP is used for
maximum compatibility.

ZLIB may give better compression results than ZIP, as the compression
window size is not limited to 8k. BZIP2 may give even better
compression results than that, but will use a significantly larger
amount of memory while compressing and decompressing. This may be
significant in low memory situations. Note, however, that PGP (all
versions) only supports ZIP compression. Using any algorithm other
than ZIP or "none" will make the message unreadable with PGP. In
general, you do not want to use this option as it allows you to
violate the OpenPGP standard.  The option
<samp>--personal-compress-preferences</samp> is the safe way to accomplish
the same thing.

</li>
<li><span class="y2m-item">--cert-digest-algo <span class="y2m-args"><u>name</u></span></span>
Use <u>name</u> as the message digest algorithm used when signing a
key. Running the program with the command <samp>--version</samp> yields a
list of supported algorithms.  Be aware that if you choose an
algorithm that GnuPG supports but other OpenPGP implementations do
not, then some users will not be able to use the key signatures you
make, or quite possibly your entire key.  Note also that a public key
algorithm must be compatible with the specified digest algorithm; thus
selecting an arbitrary digest algorithm may result in error messages
from lower crypto layers or lead to security flaws.


</li>
<li><span class="y2m-item">--disable-cipher-algo <span class="y2m-args"><u>name</u></span></span>
Never allow the use of <u>name</u> as cipher algorithm.
The given name will not be checked so that a later loaded algorithm
will still get disabled.

</li>
<li><span class="y2m-item">--disable-pubkey-algo <span class="y2m-args"><u>name</u></span></span>
Never allow the use of <u>name</u> as public key algorithm.
The given name will not be checked so that a later loaded algorithm
will still get disabled.

</li>
<li><span class="y2m-item">--throw-keyids</span>
    <span class="y2m-item">--no-throw-keyids</span>
Do not put the recipient key IDs into encrypted messages. This helps to
hide the receivers of the message and is a limited countermeasure
against traffic analysis.Using a little social engineering
anyone who is able to decrypt the message can check whether one of the
other recipients is the one he suspects.  On the receiving side, it may
slow down the decryption process because all available secret keys must
be tried.  <samp>--no-throw-keyids</samp> disables this option. This option
is essentially the same as using <samp>--hidden-recipient</samp> for all
recipients.

</li>
<li><span class="y2m-item">--not-dash-escaped</span>
This option changes the behavior of cleartext signatures
so that they can be used for patch files. You should not
send such an armored file via email because all spaces
and line endings are hashed too. You can not use this
option for data which has 5 dashes at the beginning of a
line, patch files don't have this. A special armor header
line tells GnuPG about this cleartext signature option.

</li>
<li><span class="y2m-item">--escape-from-lines</span>
    <span class="y2m-item">--no-escape-from-lines</span>
Because some mailers change lines starting with "From " to "&gt;From " it
is good to handle such lines in a special way when creating cleartext
signatures to prevent the mail system from breaking the signature. Note
that all other PGP versions do it this way too.  Enabled by
default. <samp>--no-escape-from-lines</samp> disables this option.

</li>
<li><span class="y2m-item">--passphrase-repeat <span class="y2m-args"><u>n</u></span></span>
Specify how many times <i>gpg</i> will request a new
passphrase be repeated.  This is useful for helping memorize a
passphrase.  Defaults to 1 repetition; can be set to 0 to disable any
passphrase repetition.  Note that a <u>n</u> greater than 1 will pop up
the pinentry window <u>n</u>+1 times even if a modern pinentry with
two entry fields is used.

</li>
<li><span class="y2m-item">--passphrase-fd <span class="y2m-args"><u>n</u></span></span>
Read the passphrase from file descriptor <u>n</u>. Only the first line
will be read from file descriptor <u>n</u>. If you use 0 for <u>n</u>,
the passphrase will be read from STDIN. This can only be used if only
one passphrase is supplied.

Note that since Version 2.0 this passphrase is only used if the
option <samp>--batch</samp> has also been given. Since Version 2.1
the <samp>--pinentry-mode</samp> also needs to be set to <samp>loopback</samp>.

</li>
<li><span class="y2m-item">--passphrase-file <span class="y2m-args"><u>file</u></span></span>
Read the passphrase from file <u>file</u>. Only the first line will
be read from file <u>file</u>. This can only be used if only one
passphrase is supplied. Obviously, a passphrase stored in a file is
of questionable security if other users can read this file. Don't use
this option if you can avoid it.

Note that since Version 2.0 this passphrase is only used if the
option <samp>--batch</samp> has also been given. Since Version 2.1
the <samp>--pinentry-mode</samp> also needs to be set to <samp>loopback</samp>.

</li>
<li><span class="y2m-item">--passphrase <span class="y2m-args"><u>string</u></span></span>
Use <u>string</u> as the passphrase. This can only be used if only one
passphrase is supplied. Obviously, this is of very questionable
security on a multi-user system. Don't use this option if you can
avoid it.

Note that since Version 2.0 this passphrase is only used if the
option <samp>--batch</samp> has also been given. Since Version 2.1
the <samp>--pinentry-mode</samp> also needs to be set to <samp>loopback</samp>.

</li>
<li><span class="y2m-item">--pinentry-mode <span class="y2m-args"><u>mode</u></span></span>
Set the pinentry mode to <u>mode</u>.  Allowed values for <u>mode</u>
are:
</li>
<ul>
<li><span class="y2m-item">default</span>
Use the default of the agent, which is <samp>ask</samp>.
</li>
<li><span class="y2m-item">ask</span>
Force the use of the Pinentry.
</li>
<li><span class="y2m-item">cancel</span>
Emulate use of Pinentry's cancel button.
</li>
<li><span class="y2m-item">error</span>
Return a Pinentry error (``No Pinentry'').
</li>
<li><span class="y2m-item">loopback</span>
Redirect Pinentry queries to the caller.  Note that in contrast to
Pinentry the user is not prompted again if he enters a bad password.
</li>
</ul>

<li><span class="y2m-item">--no-symkey-cache</span>
Disable the passphrase cache used for symmetrical en- and decryption.
This cache is based on the message specific salt value
(cf. <samp>--s2k-mode</samp>).

</li>
<li><span class="y2m-item">--request-origin <span class="y2m-args"><u>origin</u></span></span>
Tell gpg to assume that the operation ultimately originated at
<u>origin</u>.  Depending on the origin certain restrictions are applied
and the Pinentry may include an extra note on the origin.  Supported
values for <u>origin</u> are: <samp>local</samp> which is the default,
<samp>remote</samp> to indicate a remote origin or <samp>browser</samp> for an
operation requested by a web browser.

</li>
<li><span class="y2m-item">--command-fd <span class="y2m-args"><u>n</u></span></span>
This is a replacement for the deprecated shared-memory IPC mode.
If this option is enabled, user input on questions is not expected
from the TTY but from the given file descriptor. It should be used
together with <samp>--status-fd</samp>. See the file doc/DETAILS in the source
distribution for details on how to use it.

</li>
<li><span class="y2m-item">--command-file <span class="y2m-args"><u>file</u></span></span>
Same as <samp>--command-fd</samp>, except the commands are read out of file
<u>file</u>

</li>
<li><span class="y2m-item">--allow-non-selfsigned-uid</span>
    <span class="y2m-item">--no-allow-non-selfsigned-uid</span>
Allow the import and use of keys with user IDs which are not
self-signed. This is not recommended, as a non self-signed user ID is
trivial to forge. <samp>--no-allow-non-selfsigned-uid</samp> disables.

</li>
<li><span class="y2m-item">--allow-freeform-uid</span>
Disable all checks on the form of the user ID while generating a new
one. This option should only be used in very special environments as
it does not ensure the de-facto standard format of user IDs.

</li>
<li><span class="y2m-item">--ignore-time-conflict</span>
GnuPG normally checks that the timestamps associated with keys and
signatures have plausible values. However, sometimes a signature
seems to be older than the key due to clock problems. This option
makes these checks just a warning. See also <samp>--ignore-valid-from</samp> for
timestamp issues on subkeys.

</li>
<li><span class="y2m-item">--ignore-valid-from</span>
GnuPG normally does not select and use subkeys created in the future.
This option allows the use of such keys and thus exhibits the
pre-1.0.7 behaviour. You should not use this option unless there
is some clock problem. See also <samp>--ignore-time-conflict</samp> for timestamp
issues with signatures.

</li>
<li><span class="y2m-item">--ignore-crc-error</span>
The ASCII armor used by OpenPGP is protected by a CRC checksum against
transmission errors. Occasionally the CRC gets mangled somewhere on
the transmission channel but the actual content (which is protected by
the OpenPGP protocol anyway) is still okay. This option allows GnuPG
to ignore CRC errors.

</li>
<li><span class="y2m-item">--ignore-mdc-error</span>
This option changes a MDC integrity protection failure into a warning.
It is required to decrypt old messages which did not use an MDC.  It
may also be useful if a message is partially garbled, but it is
necessary to get as much data as possible out of that garbled message.
Be aware that a missing or failed MDC can be an indication of an
attack.  Use with great caution; see also option <samp>--rfc2440</samp>.

</li>
<li><span class="y2m-item">--allow-old-cipher-algos</span>
Old cipher algorithms like 3DES, IDEA, or CAST5 encrypt data using
blocks of 64 bits; modern algorithms use blocks of 128 bit instead.
To avoid certain attack on these old algorithms it is suggested not to
encrypt more than 150 MiByte using the same key.  For this reason gpg
does not allow the use of 64 bit block size algorithms for encryption
unless this option is specified.

</li>
<li><span class="y2m-item">--allow-weak-digest-algos</span>
Signatures made with known-weak digest algorithms are normally
rejected with an ``invalid digest algorithm'' message.  This option
allows the verification of signatures made with such weak algorithms.
MD5 is the only digest algorithm considered weak by default.  See also
<samp>--weak-digest</samp> to reject other digest algorithms.

</li>
<li><span class="y2m-item">--weak-digest <span class="y2m-args"><u>name</u></span></span>
Treat the specified digest algorithm as weak.  Signatures made over
weak digests algorithms are normally rejected. This option can be
supplied multiple times if multiple algorithms should be considered
weak.  See also <samp>--allow-weak-digest-algos</samp> to disable
rejection of weak digests.  MD5 is always considered weak, and does
not need to be listed explicitly.

</li>
<li><span class="y2m-item">--allow-weak-key-signatures</span>
To avoid a minor risk of collision attacks on third-party key
signatures made using SHA-1, those key signatures are considered
invalid.  This options allows one to override this restriction.

</li>
<li><span class="y2m-item">--override-compliance-check</span>
This was a temporary introduced option and has no more effect.

</li>
<li><span class="y2m-item">--no-default-keyring</span>
Do not add the default keyring to the list of keyrings. Note that
GnuPG needs for almost all operations a keyring. Thus if you use this
option and do not provide alternate keyrings via <samp>--keyring</samp>,
then GnuPG will still use the default keyring.

Note that if the option <samp>use-keyboxd</samp> is enabled in
common.conf, no keyrings are used at all and keys are all
maintained by the keyboxd process in its own database.

</li>
<li><span class="y2m-item">--no-keyring</span>
Do not use any keyring at all.  This overrides the default and all
options which specify keyrings.

</li>
<li><span class="y2m-item">--skip-verify</span>
Skip the signature verification step. This may be
used to make the decryption faster if the signature
verification is not needed.

</li>
<li><span class="y2m-item">--with-key-data</span>
Print key listings delimited by colons (like <samp>--with-colons</samp>) and
print the public key data.

</li>
<li><span class="y2m-item">--list-signatures</span>
    <span class="y2m-item">--list-sigs</span>
Same as <samp>--list-keys</samp>, but the signatures are listed too.  This
command has the same effect as using <samp>--list-keys</samp> with
<samp>--with-sig-list</samp>.  Note that in contrast to
<samp>--check-signatures</samp> the key signatures are not verified.  This
command can be used to create a list of signing keys missing in the
local keyring; for example:


<pre>
      gpg --list-sigs --with-colons USERID | &bsol;
        awk -F: '$1=="sig" &amp;&amp; $2=="?" {if($13){print $13}else{print $5}}'
</pre>

</li>
<li><span class="y2m-item">--fast-list-mode</span>
Changes the output of the list commands to work faster; this is achieved
by leaving some parts empty. Some applications don't need the user ID
and the trust information given in the listings. By using this options
they can get a faster listing. The exact behaviour of this option may
change in future versions.  If you are missing some information, don't
use this option.

</li>
<li><span class="y2m-item">--no-literal</span>
This is not for normal use. Use the source to see for what it might be useful.

</li>
<li><span class="y2m-item">--set-filesize</span>
This is not for normal use. Use the source to see for what it might be useful.

</li>
<li><span class="y2m-item">--show-session-key</span>
    <span class="y2m-item">--show-only-session-key</span>
Display the session key used for one message. See
<samp>--override-session-key</samp> for the counterpart of this option.
The variant <samp>--show-only-session-key</samp> does not actually use the
session key but stops processing after having printed the session key.

We think that Key Escrow is a Bad Thing; however the user should have
the freedom to decide whether to go to prison or to reveal the content
of one specific message without compromising all messages ever
encrypted for one secret key.

You can also use this option if you receive an encrypted message which
is abusive or offensive, to prove to the administrators of the
messaging system that the ciphertext transmitted corresponds to an
inappropriate plaintext so they can take action against the offending
user.

</li>
<li><span class="y2m-item">--override-session-key <span class="y2m-args"><u>string</u></span></span>
    <span class="y2m-item">--override-session-key-fd <span class="y2m-args"><u>fd</u></span></span>
Don't use the public key but the session key <u>string</u> respective
the session key taken from the first line read from file descriptor
<u>fd</u>.  The format of this string is the same as the one printed by
<samp>--show-session-key</samp>. This option is normally not used but
comes handy in case someone forces you to reveal the content of an
encrypted message; using this option you can do this without handing
out the secret key.  Note that using <samp>--override-session-key</samp>
may reveal the session key to all local users via the global process
table.  Often it is useful to combine this option with
<samp>--no-keyring</samp>.

</li>
<li><span class="y2m-item">--ask-sig-expire</span>
    <span class="y2m-item">--no-ask-sig-expire</span>
When making a data signature, prompt for an expiration time. If this
option is not specified, the expiration time set via
<samp>--default-sig-expire</samp> is used. <samp>--no-ask-sig-expire</samp>
disables this option.

</li>
<li><span class="y2m-item">--default-sig-expire <span class="y2m-args"><u>value</u></span></span>
The default expiration time to use for signature expiration. Valid
values are "0" for no expiration, a number followed by the letter d
(for days), w (for weeks), m (for months), or y (for years) (for
example "2m" for two months, or "5y" for five years), or an absolute
date in the form YYYY-MM-DD. Defaults to "0".

</li>
<li><span class="y2m-item">--ask-cert-expire</span>
    <span class="y2m-item">--no-ask-cert-expire</span>
When making a key signature, prompt for an expiration time. If this
option is not specified, the expiration time set via
<samp>--default-cert-expire</samp> is used. <samp>--no-ask-cert-expire</samp>
disables this option.

</li>
<li><span class="y2m-item">--default-cert-expire <span class="y2m-args"><u>value</u></span></span>
The default expiration time to use for key signature expiration.
Valid values are "0" for no expiration, a number followed by the
letter d (for days), w (for weeks), m (for months), or y (for years)
(for example "2m" for two months, or "5y" for five years), or an
absolute date in the form YYYY-MM-DD. Defaults to "0".

</li>
<li><span class="y2m-item">--default-new-key-algo <span class="y2m-args"><u>string</u></span></span>
This option can be used to change the default algorithms for key
generation. The <u>string</u> is similar to the arguments required for
the command <samp>--quick-add-key</samp> but slightly different.  For
example the current default of <samp>"rsa2048/cert,sign+rsa2048/encr"</samp>
(or <samp>"rsa3072"</samp>) can be changed to the value of what we currently
call future default, which is <samp>"ed25519/cert,sign+cv25519/encr"</samp>.
You need to consult the source code to learn the details.  Note that
the advanced key generation commands can always be used to specify a
key algorithm directly.

</li>
<li><span class="y2m-item">--no-auto-trust-new-key</span>
When creating a new key the ownertrust of the new key is set to
ultimate.  This option disables this and the user needs to manually
assign an ownertrust value.

</li>
<li><span class="y2m-item">--force-sign-key</span>
This option modifies the behaviour of the commands
<samp>--quick-sign-key</samp>, <samp>--quick-lsign-key</samp>, and the "sign"
sub-commands of <samp>--edit-key</samp> by forcing the creation of a key
signature, even if one already exists.

</li>
<li><span class="y2m-item">--forbid-gen-key</span>
This option is intended for use in the global config file to disallow
the use of generate key commands.  Those commands will then fail with
the error code for Not Enabled.

</li>
<li><span class="y2m-item">--allow-secret-key-import</span>
This is an obsolete option and is not used anywhere.

</li>
<li><span class="y2m-item">--allow-multiple-messages</span>
</li>
<li><span class="y2m-item">--no-allow-multiple-messages</span>
These are obsolete options; they have no more effect since GnuPG 2.2.8.

</li>
<li><span class="y2m-item">--enable-special-filenames</span>
This option enables a mode in which filenames of the form
-&amp;n, where n is a non-negative decimal number,
refer to the file descriptor n and not to a file with that name.

</li>
<li><span class="y2m-item">--disable-fd-translation</span>
This option changes the behaviour for all following options to expect
libc file descriptors instead of HANDLE values on the command line.
The option has an effect only on Windows.

</li>
<li><span class="y2m-item">--no-expensive-trust-checks</span>
Experimental use only.

</li>
<li><span class="y2m-item">--preserve-permissions</span>
Don't change the permissions of a secret keyring back to user
read/write only. Use this option only if you really know what you are doing.

</li>
<li><span class="y2m-item">--default-preference-list <span class="y2m-args"><u>string</u></span></span>
Set the list of default preferences to <u>string</u>. This preference
list is used for new keys and becomes the default for "setpref" in the
<samp>--edit-key</samp> menu.

</li>
<li><span class="y2m-item">--default-keyserver-url <span class="y2m-args"><u>name</u></span></span>
Set the default keyserver URL to <u>name</u>. This keyserver will be
used as the keyserver URL when writing a new self-signature on a key,
which includes key generation and changing preferences.

</li>
<li><span class="y2m-item">--list-config</span>
Display various internal configuration parameters of GnuPG. This option
is intended for external programs that call GnuPG to perform tasks, and
is thus not generally useful. See the file doc/DETAILS in the
source distribution for the details of which configuration items may be
listed. <samp>--list-config</samp> is only usable with
<samp>--with-colons</samp> set.

</li>
<li><span class="y2m-item">--list-gcrypt-config</span>
Display various internal configuration parameters of Libgcrypt.

</li>
<li><span class="y2m-item">--gpgconf-list</span>
This command is similar to <samp>--list-config</samp> but in general only
internally used by the <i>gpgconf</i> tool.

</li>
<li><span class="y2m-item">--gpgconf-test</span>
This is more or less dummy action.  However it parses the configuration
file and returns with failure if the configuration file would prevent
<i>gpg</i> from startup.  Thus it may be used to run a syntax check
on the configuration file.


</li>
<li><span class="y2m-item">--chuid <span class="y2m-args"><u>uid</u></span></span>
Change the current user to <u>uid</u> which may either be a number or a
name.  This can be used from the root account to run gpg for
another user.  If <u>uid</u> is not the current UID a standard PATH is
set and the envvar GNUPGHOME is unset.  To override the latter the
option <samp>--homedir</samp> can be used.  This option has only an effect
when used on the command line.  This option has currently no effect at
all on Windows.

</li>
</ul>
</p>

<p>
<h3> Deprecated options</h3>
</p>

<p>
<ul>

<li><span class="y2m-item">-t, <span class="y2m-args">--textmode</span></span>
    <span class="y2m-item">--no-textmode</span>
Treat input files as text and store them in the OpenPGP canonical text
form with standard "CRLF" line endings. This also sets the necessary
flags to inform the recipient that the encrypted or signed data is text
and may need its line endings converted back to whatever the local
system uses. This option was useful when communicating between two
platforms with different line ending conventions (UNIX-like to Mac,
Mac to Windows, etc). <samp>--no-textmode</samp> disables this option, and
is the default.  Note that this is a legacy option which should not
anymore be used by any modern software.

</li>
<li><span class="y2m-item">--force-v3-sigs</span>
    <span class="y2m-item">--no-force-v3-sigs</span>
</li>
<li><span class="y2m-item">--force-v4-certs</span>
    <span class="y2m-item">--no-force-v4-certs</span>
These options are obsolete and have no effect since GnuPG 2.1.

</li>
<li><span class="y2m-item">--show-photos</span>
    <span class="y2m-item">--no-show-photos</span>
Causes <samp>--list-keys</samp>, <samp>--list-signatures</samp>,
<samp>--list-public-keys</samp>, <samp>--list-secret-keys</samp>, and verifying
a signature to also display the photo ID attached to the key, if
any. See also <samp>--photo-viewer</samp>. These options are deprecated. Use
<samp>--list-options [no-]show-photos</samp> and/or <samp>--verify-options
[no-]show-photos</samp> instead.

</li>
<li><span class="y2m-item">--show-keyring</span>
Display the keyring name at the head of key listings to show which
keyring a given key resides on. This option is deprecated: use
<samp>--list-options [no-]show-keyring</samp> instead.

</li>
<li><span class="y2m-item">--show-notation</span>
    <span class="y2m-item">--no-show-notation</span>
Show signature notations in the <samp>--list-signatures</samp> or <samp>--check-signatures</samp> listings
as well as when verifying a signature with a notation in it. These
options are deprecated. Use <samp>--list-options [no-]show-notation</samp>
and/or <samp>--verify-options [no-]show-notation</samp> instead.

</li>
<li><span class="y2m-item">--show-policy-url</span>
    <span class="y2m-item">--no-show-policy-url</span>
Show policy URLs in the <samp>--list-signatures</samp> or <samp>--check-signatures</samp>
listings as well as when verifying a signature with a policy URL in
it. These options are deprecated. Use <samp>--list-options
[no-]show-policy-url</samp> and/or <samp>--verify-options
[no-]show-policy-url</samp> instead.

</li>
<li><span class="y2m-item">--personal-aead-preferences <span class="y2m-args"><u>string</u></span></span>
This option is deprecated and has no more effect since version 2.3.9.

</li>
<li><span class="y2m-item">--aead-algo <span class="y2m-args"><u>name</u></span></span>
This option is deprecated and has no more effect since version 2.3.9.


</li>
</ul>
</p>

<p>
</p>

<p>

</div>
<div class="y2m-section">
<h2 class="y2m-sh">EXAMPLES</h2>

<p></p>

<p>
<ul>

<li><span class="y2m-item">gpg <span class="y2m-args">-se -r <samp>Bob</samp> <samp>file</samp></span></span>
sign and encrypt for user Bob

</li>
<li><span class="y2m-item">gpg <span class="y2m-args">--clear-sign <samp>file</samp></span></span>
make a cleartext signature

</li>
<li><span class="y2m-item">gpg <span class="y2m-args">-sb <samp>file</samp></span></span>
make a detached signature

</li>
<li><span class="y2m-item">gpg <span class="y2m-args">-u 0x12345678 -sb <samp>file</samp></span></span>
make a detached signature with the key 0x12345678

</li>
<li><span class="y2m-item">gpg <span class="y2m-args">--list-keys <samp>user_ID</samp></span></span>
show keys

</li>
<li><span class="y2m-item">gpg <span class="y2m-args">--fingerprint <samp>user_ID</samp></span></span>
show fingerprint

</li>
<li><span class="y2m-item">gpg <span class="y2m-args">--verify <samp>pgpfile</samp></span></span>
    <span class="y2m-item">gpg <span class="y2m-args">--verify <samp>sigfile</samp> [<samp>datafile</samp>]</span></span>
Verify the signature of the file but do not output the data unless
requested.  The second form is used for detached signatures, where
<samp>sigfile</samp> is the detached signature (either ASCII armored or
binary) and <samp>datafile</samp> are the signed data; if this is not given, the name of the
file holding the signed data is constructed by cutting off the
extension (".asc" or ".sig") of <samp>sigfile</samp> or by asking the user
for the filename.  If the option <samp>--output</samp> is also used the
signed data is written to the file specified by that option; use
<samp>-</samp> to write the signed data to stdout.
</li>
</ul>
</p>

<p>
</p>

<p>

</div>
<div class="y2m-section">
<h2 class="y2m-sh">HOW TO SPECIFY A USER ID</h2>

<p></p>

<p>
There are different ways to specify a user ID to GnuPG.  Some of them
are only valid for <i>gpg</i> others are only good for
<i>gpgsm</i>.  Here is the entire list of ways to specify a key:
</p>

<p>
<ul>

<li><span class="y2m-item">By <span class="y2m-args">key Id.</span></span>
This format is deduced from the length of the string and its content or
<samp>0x</samp> prefix. The key Id of an X.509 certificate are the low 64 bits
of its SHA-1 fingerprint.  The use of key Ids is just a shortcut, for
all automated processing the fingerprint should be used.

When using <i>gpg</i> an exclamation mark (!) may be appended to
force using the specified primary or secondary key and not to try and
calculate which primary or secondary key to use.

The last four lines of the example give the key ID in their long form as
internally used by the OpenPGP protocol. You can see the long key ID
using the option <samp>--with-colons</samp>.


<pre>
234567C4
0F34E556E
01347A56A
0xAB123456

234AABBCC34567C4
0F323456784E56EAB
01AB3FED1347A5612
0x234AABBCC34567C4
</pre>



</li>
<li><span class="y2m-item">By <span class="y2m-args">fingerprint.</span></span>
This format is deduced from the length of the string and its content or
the <samp>0x</samp> prefix.  Note, that only the 20 byte version fingerprint
is available with <i>gpgsm</i> (i.e., the SHA-1 hash of the
certificate).

When using <i>gpg</i> an exclamation mark (!) may be appended to
force using the specified primary or secondary key and not to try and
calculate which primary or secondary key to use.

The best way to specify a key Id is by using the fingerprint.  This
avoids any ambiguities in case that there are duplicated key IDs.


<pre>
1234343434343434C434343434343434
123434343434343C3434343434343734349A3434
0E12343434343434343434EAB3484343434343434
0xE12343434343434343434EAB3484343434343434
</pre>


<i>gpgsm</i> also accepts colons between each pair of hexadecimal
digits because this is the de-facto standard on how to present X.509
fingerprints.  <i>gpg</i> also allows the use of the space
separated SHA-1 fingerprint as printed by the key listing commands.

</li>
<li><span class="y2m-item">By <span class="y2m-args">exact match on OpenPGP user ID.</span></span>
This is denoted by a leading equal sign. It does not make sense for
X.509 certificates.


<pre>
=Heinrich Heine &lt;heinrichh@uni-duesseldorf.de&gt;
</pre>

</li>
<li><span class="y2m-item">By <span class="y2m-args">exact match on an email address.</span></span>
This is indicated by enclosing the email address in the usual way
with left and right angles.


<pre>
&lt;heinrichh@uni-duesseldorf.de&gt;
</pre>


</li>
<li><span class="y2m-item">By <span class="y2m-args">partial match on an email address.</span></span>
This is indicated by prefixing the search string with an <samp>@</samp>.
This uses a substring search but considers only the mail address
(i.e., inside the angle brackets).


<pre>
@heinrichh
</pre>

</li>
<li><span class="y2m-item">By <span class="y2m-args">exact match on the subject's DN.</span></span>
This is indicated by a leading slash, directly followed by the RFC-2253
encoded DN of the subject.  Note that you can't use the string printed
by <samp>gpgsm --list-keys</samp> because that one has been reordered and modified
for better readability; use <samp>--with-colons</samp> to print the raw
(but standard escaped) RFC-2253 string.


<pre>
/CN=Heinrich Heine,O=Poets,L=Paris,C=FR
</pre>

</li>
<li><span class="y2m-item">By <span class="y2m-args">exact match on the issuer's DN.</span></span>
This is indicated by a leading hash mark, directly followed by a slash
and then directly followed by the RFC-2253 encoded DN of the issuer.
This should return the Root cert of the issuer.  See note above.


<pre>
#/CN=Root Cert,O=Poets,L=Paris,C=FR
</pre>


</li>
<li><span class="y2m-item">By <span class="y2m-args">exact match on serial number and issuer's DN.</span></span>
This is indicated by a hash mark, followed by the hexadecimal
representation of the serial number, then followed by a slash and the
RFC-2253 encoded DN of the issuer. See note above.


<pre>
#4F03/CN=Root Cert,O=Poets,L=Paris,C=FR
</pre>

</li>
<li><span class="y2m-item">By <span class="y2m-args">keygrip.</span></span>
This is indicated by an ampersand followed by the 40 hex digits of a
keygrip.  <i>gpgsm</i> prints the keygrip when using the command
<samp>--dump-cert</samp>.


<pre>
&amp;D75F22C3F86E355877348498CDC92BD21010A480
</pre>


</li>
<li><span class="y2m-item">By <span class="y2m-args">substring match.</span></span>
This is the default mode but applications may want to explicitly
indicate this by putting the asterisk in front.  Match is not case
sensitive.


<pre>
Heine
*Heine
</pre>

</li>
<li><span class="y2m-item">. <span class="y2m-args">and + prefixes</span></span>
These prefixes are reserved for looking up mails anchored at the end
and for a word search mode.  They are not yet implemented and using
them is undefined.


Please note that we have reused the hash mark identifier which was used
in old GnuPG versions to indicate the so called local-id.  It is not
anymore used and there should be no conflict when used with X.509 stuff.

Using the RFC-2253 format of DNs has the drawback that it is not
possible to map them back to the original encoding, however we don't
have to do this because our key database stores this encoding as meta
data.

</div>
<div class="y2m-section">
<h2 class="y2m-sh">FILTER EXPRESSIONS</h2>

<p></p>

<p>
The options <samp>--import-filter</samp> and <samp>--export-filter</samp> use
expressions with this syntax (square brackets indicate an optional
part and curly braces a repetition, white space between the elements
are allowed):
</p>

<p>

<pre>
  [lc] {[{flag}] PROPNAME op VALUE [lc]}
</pre>
</p>

<p>
The name of a property (<u>PROPNAME</u>) may only consist of letters,
digits and underscores.  The description for the filter type
describes which properties are defined.  If an undefined property is
used it evaluates to the empty string.  Unless otherwise noted, the
<u>VALUE</u> must always be given and may not be the empty string.  No
quoting is defined for the value, thus the value may not contain the
strings <samp>&amp;&amp;</samp> or <samp>||</samp>, which are used as logical connection
operators.  The flag <samp>--</samp> can be used to remove this restriction.
</p>

<p>
Numerical values are computed as long int; standard C notation
applies.  <u>lc</u> is the logical connection operator; either
<samp>&amp;&amp;</samp> for a conjunction or <samp>||</samp> for a disjunction.  A
conjunction is assumed at the begin of an expression.  Conjunctions
have higher precedence than disjunctions.  If <u>VALUE</u> starts with
one of the characters used in any <u>op</u> a space after the
<u>op</u> is required.
</p>

<p>

The supported operators (<u>op</u>) are:
</p>

<p>
</li>
<ul>

<li><span class="y2m-item">=~</span>
Substring must match.

</li>
<li><span class="y2m-item">!~</span>
Substring must not match.

</li>
<li><span class="y2m-item">=</span>
The full string must match.

</li>
<li><span class="y2m-item">&lt;&gt;</span>
The full string must not match.

</li>
<li><span class="y2m-item">==</span>
The numerical value must match.

</li>
<li><span class="y2m-item">!=</span>
The numerical value must not match.

</li>
<li><span class="y2m-item">&lt;=</span>
The numerical value of the field must be LE than the value.

</li>
<li><span class="y2m-item">&lt;</span>
The numerical value of the field must be LT than the value.

</li>
<li><span class="y2m-item">&gt;</span>
The numerical value of the field must be GT than the value.

</li>
<li><span class="y2m-item">&gt;=</span>
The numerical value of the field must be GE than the value.

</li>
<li><span class="y2m-item">-le</span>
The string value of the field must be less or equal than the value.

</li>
<li><span class="y2m-item">-lt</span>
The string value of the field must be less than the value.

</li>
<li><span class="y2m-item">-gt</span>
The string value of the field must be greater than the value.

</li>
<li><span class="y2m-item">-ge</span>
The string value of the field must be greater or equal than the value.

</li>
<li><span class="y2m-item">-n</span>
True if value is not empty (no value allowed).

</li>
<li><span class="y2m-item">-z</span>
True if value is empty (no value allowed).

</li>
<li><span class="y2m-item">-t</span>
Alias for "PROPNAME != 0" (no value allowed).

</li>
<li><span class="y2m-item">-f</span>
Alias for "PROPNAME == 0" (no value allowed).

</li>
</ul>
</p>

<p>

Values for <u>flag</u> must be space separated.  The supported flags
are:
</p>

<p>
<ul>
<li><span class="y2m-item">--</span>
<u>VALUE</u> spans to the end of the expression.
</li>
<li><span class="y2m-item">-c</span>
The string match in this part is done case-sensitive.
</li>
<li><span class="y2m-item">-t</span>
Leading and trailing spaces are not removed from <u>VALUE</u>.
The optional single space after <u>op</u> is here required.
</li>
</ul>
</p>

<p>
The filter options concatenate several specifications for a filter of
the same type.  For example the four options in this example:
</p>

<p>

<pre>
 --import-filter keep-uid="uid =~ Alfa"
 --import-filter keep-uid="&amp;&amp; uid !~ Test"
 --import-filter keep-uid="|| uid =~ Alpha"
 --import-filter keep-uid="uid !~ Test"
</pre>
</p>

<p>

which is equivalent to
</p>

<p>

<pre>
 --import-filter &bsol;
  keep-uid="uid =~ Alfa" &amp;&amp; uid !~ Test" || uid =~ Alpha" &amp;&amp; "uid !~ Test"
</pre>
</p>

<p>
imports only the user ids of a key containing the strings "Alfa"
or "Alpha" but not the string "test".
</p>

<p>
</div>
<div class="y2m-section">
<h2 class="y2m-sh">TRUST VALUES</h2>

<p></p>

<p>
Trust values are used to indicate ownertrust and validity of keys and
user IDs.  They are displayed with letters or strings:
</p>

<p>
<ul>

<li><span class="y2m-item">-</span>
    <span class="y2m-item">unknown</span>
No ownertrust assigned / not yet calculated.

</li>
<li><span class="y2m-item">e</span>
    <span class="y2m-item">expired</span>

Trust calculation has failed; probably due to an expired key.

</li>
<li><span class="y2m-item">q</span>
    <span class="y2m-item">undefined, <span class="y2m-args">undef</span></span>
Not enough information for calculation.

</li>
<li><span class="y2m-item">n</span>
    <span class="y2m-item">never</span>
Never trust this key.

</li>
<li><span class="y2m-item">m</span>
    <span class="y2m-item">marginal</span>
Marginally trusted.

</li>
<li><span class="y2m-item">f</span>
    <span class="y2m-item">full</span>
Fully trusted.

</li>
<li><span class="y2m-item">u</span>
    <span class="y2m-item">ultimate</span>
Ultimately trusted.

</li>
<li><span class="y2m-item">r</span>
    <span class="y2m-item">revoked</span>
For validity only: the key or the user ID has been revoked.

</li>
<li><span class="y2m-item">?</span>
    <span class="y2m-item">err</span>
The program encountered an unknown trust value.

</li>
</ul>
</p>

<p>
</div>
<div class="y2m-section">
<h2 class="y2m-sh">FILES</h2>

<p></p>

<p>
There are a few configuration files to control certain aspects of
<i>gpg</i>'s operation. Unless noted, they are expected in the
current home directory (option --homedir).
</p>

<p>
<ul>

<li><span class="y2m-item">gpg.conf</span>
This is the standard configuration file read by <i>gpg</i> on
startup.  It may contain any valid long option; the leading two dashes
may not be entered and the option may not be abbreviated.  This default
name may be changed on the command line (gpg-option --options).
You should backup this file.

</li>
<li><span class="y2m-item">common.conf</span>
This is an optional configuration file read by <i>gpg</i> on
startup.  It may contain options pertaining to all components of
GnuPG.  Its current main use is for the "use-keyboxd" option.  If
the default home directory ~/.gnupg does not exist, GnuPG creates
this directory and a common.conf file with "use-keyboxd".

</li>
</ul>
</p>

<p>
Note that on larger installations, it is useful to put predefined files
into the directory /home/itodoro/projects/ibm_meta_testing/ibmdir/gpgport/install/etc/skel/.gnupg so that
newly created users start up with a working configuration.
For existing users a small
helper script is provided to create these files (addgnupghome).
</p>

<p>
For internal purposes <i>gpg</i> creates and maintains a few other
files; They all live in the current home directory (option
--homedir).  Only the <i>gpg</i> program may modify these files.
</p>

<p>
</p>

<p>
<ul>
<li><span class="y2m-item">~/.gnupg</span>
This is the default home directory which is used if neither the
environment variable <samp>GNUPGHOME</samp> nor the option
<samp>--homedir</samp> is given.

</li>
<li><span class="y2m-item">~/.gnupg/pubring.gpg</span>
The public keyring using a legacy format.  You should backup this file.

If this file is not available, <i>gpg</i> defaults to the new
keybox format and creates a file pubring.kbx unless that file
already exists in which case that file will also be used for OpenPGP
keys.

Note that in the case that both files, pubring.gpg and
pubring.kbx exists but the latter has no OpenPGP keys, the
legacy file pubring.gpg will be used.  Take care: GnuPG
versions before 2.1 will always use the file pubring.gpg
because they do not know about the new keybox format. In the case
that you have to use GnuPG 1.4 to decrypt archived data you should
keep this file.

</li>
<li><span class="y2m-item">~/.gnupg/pubring.gpg.lock</span>
The lock file for the public keyring.

</li>
<li><span class="y2m-item">~/.gnupg/pubring.kbx</span>
The public keyring using the new keybox format.  This file is shared
with <i>gpgsm</i>.  You should backup this file.  See above for
the relation between this file and it predecessor.

To convert an existing pubring.gpg file to the keybox format, you
first backup the ownertrust values, then rename pubring.gpg to
publickeys.backup, so it won’t be recognized by any GnuPG version,
run import, and finally restore the ownertrust values:


<pre>
$ cd ~/.gnupg
$ gpg --export-ownertrust &gt;otrust.lst
$ mv pubring.gpg publickeys.backup
$ gpg --import-options restore --import publickeys.backup
$ gpg --import-ownertrust otrust.lst
</pre>

</li>
<li><span class="y2m-item">~/.gnupg/pubring.kbx.lock</span>
The lock file for pubring.kbx.

</li>
<li><span class="y2m-item">~/.gnupg/secring.gpg</span>
The legacy secret keyring as used by GnuPG versions before 2.1.  It is not
used by GnuPG 2.1 and later.  You may want to keep it in case you
have to use GnuPG 1.4 to decrypt archived data.

</li>
<li><span class="y2m-item">~/.gnupg/secring.gpg.lock</span>
The lock file for the legacy secret keyring.

</li>
<li><span class="y2m-item">~/.gnupg/.gpg-v21-migrated</span>
File indicating that a migration to GnuPG 2.1 has been done.

</li>
<li><span class="y2m-item">~/.gnupg/trustdb.gpg</span>
The trust database.  There is no need to backup this file; it is better
to backup the ownertrust values (option --export-ownertrust).

</li>
<li><span class="y2m-item">~/.gnupg/trustdb.gpg.lock</span>
The lock file for the trust database.

</li>
<li><span class="y2m-item">~/.gnupg/random_seed</span>
A file used to preserve the state of the internal random pool.

</li>
<li><span class="y2m-item">~/.gnupg/openpgp-revocs.d/</span>
This is the directory where gpg stores pre-generated revocation
certificates.  The file name corresponds to the OpenPGP fingerprint of
the respective key.  It is suggested to backup those certificates and
if the primary private key is not stored on the disk to move them to
an external storage device.  Anyone who can access these files is
able to revoke the corresponding key.  You may want to print them out.
You should backup all files in this directory and take care to keep
this backup closed away.

</li>
</ul>
</p>

<p>
Operation is further controlled by a few environment variables:
</p>

<p>
<ul>

<li><span class="y2m-item">HOME</span>
Used to locate the default home directory.

</li>
<li><span class="y2m-item">GNUPGHOME</span>
If set directory used instead of "~/.gnupg".

</li>
<li><span class="y2m-item">GPG_AGENT_INFO</span>
This variable is obsolete; it was used by GnuPG versions before 2.1.

</li>
<li><span class="y2m-item">PINENTRY_USER_DATA</span>
This value is passed via gpg-agent to pinentry.  It is useful to convey
extra information to a custom pinentry.

</li>
<li><span class="y2m-item">COLUMNS</span>
    <span class="y2m-item">LINES</span>
Used to size some displays to the full size of the screen.

</li>
<li><span class="y2m-item">LANGUAGE</span>
Apart from its use by GNU, it is used in the W32 version to override the
language selection done through the Registry.  If used and set to a
valid and available language name (<u>langid</u>), the file with the
translation is loaded from
<samp><u>gpgdir</u>/gnupg.nls/<u>langid</u>.mo</samp>.  Here <u>gpgdir</u> is the
directory out of which the gpg binary has been loaded.  If it can't be
loaded the Registry is tried and as last resort the native Windows
locale system is used.

</li>
<li><span class="y2m-item">GNUPG_BUILD_ROOT</span>
This variable is only used by the regression test suite as a helper
under operating systems without proper support to figure out the
name of a process' text file.

</li>
<li><span class="y2m-item">GNUPG_EXEC_DEBUG_FLAGS</span>
This variable allows one to enable diagnostics for process management.
A numeric decimal value is expected.  Bit 0 enables general
diagnostics, bit 1 enables certain warnings on Windows.


</li>
<li><span class="y2m-item">GNUPG_ASSUME_COMPLIANCE</span>
Debug helper to set the system into an assume compliance state.  For
example in de-vs mode this will return 2023 as identifier instead of
23.


</li>
</ul>
</p>

<p>
When calling the gpg-agent component <i>gpg</i> sends a set of
environment variables to gpg-agent.  The names of these variables can
be listed using the command:
</p>

<p>

<pre>
  gpg-connect-agent 'getinfo std_env_names' /bye | awk '$1=="D" {print $2}'
</pre>
</p>

<p>
</p>

<p>
</p>

<p>

</div>
<div class="y2m-section">
<h2 class="y2m-sh">NOTES</h2>

<p></p>

<p>
<i>gpg</i> is often used as a backend engine by other software.  To help
with this a machine interface has been defined to have an unambiguous
way to do this.  The options <samp>--status-fd</samp> and <samp>--batch</samp>
are almost always required for this.
</p>

<p>
</p>

<p>
</p>

<p>
<h3> Programmatic use of GnuPG</h3>
</p>

<p>
Please consider using GPGME instead of calling <i>gpg</i>
directly.  GPGME offers a stable, backend-independent interface for
many cryptographic operations.  It supports OpenPGP and S/MIME, and
also allows interaction with various GnuPG components.
</p>

<p>
GPGME provides a C-API, and comes with bindings for C++, Qt, and
Python.  Bindings for other languages are available.
</p>

<p>
<h3> Ephemeral home directories</h3>
</p>

<p>
Sometimes you want to contain effects of some operation, for example
you want to import a key to inspect it, but you do not want this key
to be added to your keyring.  In earlier versions of GnuPG, it was
possible to specify alternate keyring files for both public and secret
keys.  In modern GnuPG versions, however, we changed how secret keys
are stored in order to better protect secret key material, and it was
not possible to preserve this interface.
</p>

<p>
The preferred way to do this is to use ephemeral home directories.
This technique works across all versions of GnuPG.
</p>

<p>
Create a temporary directory, create (or copy) a configuration that
meets your needs, make <i>gpg</i> use this directory either
using the environment variable <u>GNUPGHOME</u>, or the option
<samp>--homedir</samp>.  GPGME supports this too on a per-context basis,
by modifying the engine info of contexts.  Now execute whatever
operation you like, import and export key material as necessary.  Once
finished, you can delete the directory.  All GnuPG backend services
that were started will detect this and shut down.
</p>

<p>
<h3> The quick key manipulation interface</h3>
</p>

<p>
Recent versions of GnuPG have an interface to manipulate keys without
using the interactive command <samp>--edit-key</samp>.  This interface was
added mainly for the benefit of GPGME (please consider using GPGME,
see the manual subsection ``Programmatic use of GnuPG'').  This
interface is described in the subsection ``How to manage your keys''.
</p>

<p>
<h3> Unattended key generation</h3>
</p>

<p>
The command <samp>--generate-key</samp> may be used along with the option
<samp>--batch</samp> for unattended key generation.  This is the most
flexible way of generating keys, but it is also the most complex one.
Consider using the quick key manipulation interface described in the
previous subsection ``The quick key manipulation interface''.
</p>

<p>
The parameters for the key are either read from stdin or given as a
file on the command line.  The format of the parameter file is as
follows: Text only, line length is limited to about 1000 characters.
UTF-8 encoding must be used to specify non-ASCII characters.  Empty
lines are ignored.  Leading and trailing white space is ignored.  A
hash sign as the first non white space character indicates a comment
line.  Control statements are indicated by a leading percent sign,
their arguments are separated by white space from the keyword.
Parameters are specified by a keyword, followed by a colon; arguments
are separated by white space.  The first parameter must be
Key-Type but control statements may be placed anywhere.  The
order of the parameters does not matter except for Key-Type.
The parameters are only used for the generated keyblock (primary and
subkeys); parameters from previous sets are not used.  Some syntax
checks may be performed.  Key commences when either the end of the
parameter file is reached, the next Key-Type parameter is
encountered, or the control statement %commit is encountered.
</p>

<p>

Control statements:
</p>

<p>
<ul>

<li><span class="y2m-item">%echo <span class="y2m-args"><u>text</u></span></span>
Print <u>text</u> as diagnostic.

</li>
<li><span class="y2m-item">%dry-run</span>
Suppress actual key generation (useful for syntax checking).

</li>
<li><span class="y2m-item">%commit</span>
Perform the key generation.  Note that an implicit commit is done at
the next  parameter.

</li>
<li><span class="y2m-item">%pubring <span class="y2m-args"><u>filename</u></span></span>
Do not write the key to the default or commandline given keyring but
to <u>filename</u>.  This must be given before the first commit to take
place, duplicate specification of the same filename is ignored, the
last filename before a commit is used.  The filename is used until a
new filename is used (at commit points) and all keys are written to
that file. If a new filename is given, this file is created (and
overwrites an existing one).

See the previous subsection ``Ephemeral home directories'' for a more
robust way to contain side-effects.

</li>
<li><span class="y2m-item">%secring <span class="y2m-args"><u>filename</u></span></span>
This option is a no-op for GnuPG 2.1 and later.

See the previous subsection ``Ephemeral home directories''.

</li>
<li><span class="y2m-item">%ask-passphrase</span>
    <span class="y2m-item">%no-ask-passphrase</span>
This option is a no-op since GnuPG version 2.1.

</li>
<li><span class="y2m-item">%no-protection</span>
Using this option allows the creation of keys without any passphrase
protection.  This option is mainly intended for regression tests.

</li>
<li><span class="y2m-item">%transient-key</span>
If given the keys are created using a faster and a somewhat less
secure random number generator.  This option may be used for keys
which are only used for a short time and do not require full
cryptographic strength.  It takes only effect if used together with
the control statement %no-protection.

</li>
</ul>
</p>

<p>

General Parameters:
</p>

<p>
<ul>

<li><span class="y2m-item">Key-Type: <span class="y2m-args"><u>algo</u></span></span>
Starts a new parameter block by giving the type of the primary
key. The algorithm must be capable of signing.  This is a required
parameter.  <u>algo</u> may either be an OpenPGP algorithm number or a
string with the algorithm name.  The special value default may
be used for <u>algo</u> to create the default key type; in this case a
Key-Usage shall not be given and default also be used
for Subkey-Type.

</li>
<li><span class="y2m-item">Key-Length: <span class="y2m-args"><u>nbits</u></span></span>
The requested length of the generated key in bits.  The default is
returned by running the command gpg --gpgconf-list.
For ECC keys this parameter is ignored.

</li>
<li><span class="y2m-item">Key-Curve: <span class="y2m-args"><u>curve</u></span></span>
The requested elliptic curve of the generated key.  This is a required
parameter for ECC keys.  It is ignored for non-ECC keys.

</li>
<li><span class="y2m-item">Key-Grip: <span class="y2m-args"><u>hexstring</u></span></span>
This is optional and used to generate a CSR or certificate for an
already existing key.  Key-Length will be ignored when given.

</li>
<li><span class="y2m-item">Key-Usage: <span class="y2m-args"><u>usage-list</u></span></span>
Space or comma delimited list of key usages.  Allowed values are
encrypt, sign, and auth.  This is used to
generate the key flags.  Please make sure that the algorithm is
capable of this usage.  Note that OpenPGP requires that all primary
keys are capable of certification, so no matter what usage is given
here, the cert flag will be on.  If no Key-Usage is
specified and the Key-Type is not default, all allowed
usages for that particular algorithm are used; if it is not given but
default is used the usage will be sign.

</li>
<li><span class="y2m-item">Subkey-Type: <span class="y2m-args"><u>algo</u></span></span>
This generates a secondary key (subkey).  Currently only one subkey
can be handled.  See also Key-Type above.

</li>
<li><span class="y2m-item">Subkey-Length: <span class="y2m-args"><u>nbits</u></span></span>
Length of the secondary key (subkey) in bits.  The default is returned
by running the command gpg --gpgconf-list.

</li>
<li><span class="y2m-item">Subkey-Curve: <span class="y2m-args"><u>curve</u></span></span>
Key curve for a subkey; similar to Key-Curve.

</li>
<li><span class="y2m-item">Subkey-Usage: <span class="y2m-args"><u>usage-list</u></span></span>
Key usage lists for a subkey; similar to Key-Usage.

</li>
<li><span class="y2m-item">Passphrase: <span class="y2m-args"><u>string</u></span></span>
If you want to specify a passphrase for the secret key, enter it here.
Default is to use the Pinentry dialog to ask for a passphrase.

</li>
<li><span class="y2m-item">Name-Real: <span class="y2m-args"><u>name</u></span></span>
    <span class="y2m-item">Name-Comment: <span class="y2m-args"><u>comment</u></span></span>
    <span class="y2m-item">Name-Email: <span class="y2m-args"><u>email</u></span></span>
The three parts of a user name.  Remember to use UTF-8 encoding here.
If you don't give any of them, no user ID is created.

</li>
<li><span class="y2m-item">Expire-Date: <span class="y2m-args"><u>iso-date</u>|(<u>number</u>[d|w|m|y])</span></span>
Set the expiration date for the key (and the subkey).  It may either
be entered in ISO date format (e.g., "20000815T145012") or as number of
days, weeks, month or years after the creation date.  The special
notation "seconds=N" is also allowed to specify a number of seconds
since creation.  Without a letter days are assumed.  Note that there
is no check done on the overflow of the type used by OpenPGP for
timestamps.  Thus you better make sure that the given value make
sense.  Although OpenPGP works with time intervals, GnuPG uses an
absolute value internally and thus the last year we can represent is
2105.

</li>
<li><span class="y2m-item">Creation-Date: <span class="y2m-args"><u>iso-date</u></span></span>
Set the creation date of the key as stored in the key information and
which is also part of the fingerprint calculation.  Either a date like
"1986-04-26" or a full timestamp like "19860426T042640" may be used.
The time is considered to be UTC.  The special notation "seconds=N"
may be used to directly specify a the number of seconds since Epoch
(Unix time).  If it is not given the current time is used.

</li>
<li><span class="y2m-item">Preferences: <span class="y2m-args"><u>string</u></span></span>
Set the cipher, hash, and compression preference values for this key.
This expects the same type of string as the sub-command setpref
in the <samp>--edit-key</samp> menu.

</li>
<li><span class="y2m-item">Revoker: <span class="y2m-args"><u>algo</u>:<u>fpr</u> [sensitive]</span></span>
Add a designated revoker to the generated key.  Algo is the public key
algorithm of the designated revoker (i.e. RSA=1, DSA=17, etc.)
<u>fpr</u> is the fingerprint of the designated revoker.  <u>fpr</u> may
not contain spaces or colons.  The optional sensitive flag
marks the designated revoker as sensitive information.  Only v4 and v5
keys may be designated revokers.

</li>
<li><span class="y2m-item">Keyserver: <span class="y2m-args"><u>string</u></span></span>
This is an optional parameter that specifies the preferred keyserver
URL for the key.

</li>
<li><span class="y2m-item">Handle: <span class="y2m-args"><u>string</u></span></span>
This is an optional parameter only used with the status lines
KEY_CREATED and KEY_NOT_CREATED.  <u>string</u> may be up to 100
characters and should not contain spaces.  It is useful for batch key
generation to associate a key parameter block with a status line.

</li>
</ul>
</p>

<p>

Here is an example on how to create a key in an ephemeral home directory:

<pre>
$ export GNUPGHOME="$(mktemp -d)"
$ cat &gt;foo &lt;&lt;EOF
     %echo Generating a basic OpenPGP key
     Key-Type: DSA
     Key-Length: 1024
     Subkey-Type: ELG-E
     Subkey-Length: 1024
     Name-Real: Joe Tester
     Name-Comment: with stupid passphrase
     Name-Email: joe@foo.bar
     Expire-Date: 0
     Passphrase: abc
     # Do a commit here, so that we can later print "done" :-)
     %commit
     %echo done
EOF
$ gpg --batch --generate-key foo
 [...]
$ gpg --list-secret-keys
/tmp/tmp.0NQxB74PEf/pubring.kbx
-------------------------------
sec   dsa1024 2016-12-16 [SCA]
      768E895903FC1C44045C8CB95EEBDB71E9E849D0
uid           [ultimate] Joe Tester (with stupid passphrase) &lt;joe@foo.bar&gt;
ssb   elg1024 2016-12-16 [E]
</pre>
</p>

<p>

If you want to create a key with the default algorithms you would use
these parameters:

<pre>
     %echo Generating a default key
     Key-Type: default
     Subkey-Type: default
     Name-Real: Joe Tester
     Name-Comment: with stupid passphrase
     Name-Email: joe@foo.bar
     Expire-Date: 0
     Passphrase: abc
     # Do a commit here, so that we can later print "done" :-)
     %commit
     %echo done
</pre>
</p>

<p>
</p>

<p>
</p>

<p>
</p>

<p>
</div>
<div class="y2m-section">
<h2 class="y2m-sh">BUGS</h2>

<p></p>

<p>
On older systems this program should be installed as setuid(root). This
is necessary to lock memory pages. Locking memory pages prevents the
operating system from writing memory pages (which may contain
passphrases or other sensitive material) to disk. If you get no
warning message about insecure memory your operating system supports
locking without being root. The program drops root privileges as soon
as locked memory is allocated.
</p>

<p>
Note also that some systems (especially laptops) have the ability to
``suspend to disk'' (also known as ``safe sleep'' or ``hibernate'').
This writes all memory to disk before going into a low power or even
powered off mode.  Unless measures are taken in the operating system
to protect the saved memory, passphrases or other sensitive material
may be recoverable from it later.
</p>

<p>
Before you report a bug you should first search the mailing list
archives for similar problems and second check whether such a bug has
already been reported to our bug tracker at <strong>https://bugs.gnupg.org</strong>.
</p>

<p>

</div>
<div class="y2m-section">
<h2 class="y2m-sh">SEE ALSO</h2>

<p><i><a href="gpgv.1.html">gpgv</a>(1)</i>,
<i><a href="gpgsm.1.html">gpgsm</a>(1)</i>,
<i><a href="gpg-agent.1.html">gpg-agent</a>(1)</i>
</p>

<p>
The full documentation for this tool is maintained as a Texinfo manual.
If GnuPG and the info program are properly installed at your site, the
command
</p>

<p>

<pre>
info gnupg
</pre>
</p>

<p>
should give you access to the complete manual including a menu structure
and an index.
</div>
<p class="y2m y2m-footer"><span class="y2m-left">GnuPG 2.5.2</span> <span class="y2m-center">2024-11-22</span> <span class="y2m-right">GPG(1)</span></p>
</div><!-- class y2m -->
</div><!-- end content -->
</div><!-- end wrapper -->
</body>
</html>
